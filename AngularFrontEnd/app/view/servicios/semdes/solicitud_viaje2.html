<!-- TIPOS OBLIGATORIO -->  
<script type="text/javascript">
$('.modal').on('shown.bs.modal', function() {
  //Make sure the modal and backdrop are siblings (changes the DOM)elem,
  $(this).before($('.modal-backdrop'));
  //Make sure the z-index is higher than the backdrop
  $(this).css("z-index", parseInt($('.modal-backdrop').css('z-index')) + 1);
});

    $('.custom-upload input[type=file]').change(function(){
        $(this).next().find('input').val($(this).val());
        angular.element(this).scope().cambiarFile(this, $(this).val());
    });



</script>
<style>
/*
    Document   : no-more-tables
    Created on : 28/02/2012, 11:01:54 AM
    Author     : Simon Elvery
    Description:
        Demonstration of the responsive tables method described at by Chris Coyier
        at http://css-tricks.com/responsive-data-tables/
*/

@media only screen and (max-width: 800px) {

    /* Force table to not be like tables anymore */
    #no-more-tables table,
    #no-more-tables thead,
    #no-more-tables tbody,
    #no-more-tables th,
    #no-more-tables td,
    #no-more-tables tr {
        display: block;
    }

    /* Hide table headers (but not display: none;, for accessibility) */
    #no-more-tables thead tr {
        position: absolute;
        top: -9999px;
        left: -9999px;
    }

    #no-more-tables tr { border: 1px solid #ccc; }

    #no-more-tables td {
        /* Behave  like a "row" */
        border: none;
        border-bottom: 1px solid #eee;
        position: relative;
        padding-left: 35%;
        white-space: normal;
        text-align:left;
    }

    #no-more-tables td:before {
        /* Now like a table header */
        position: absolute;
        /* Top/left values mimic padding */
        top: 6px;
        left: 6px;
        width: 45%;
        padding-right: 10px;
        white-space: nowrap;
        text-align:left;
        font-weight: bold;
    }

    /*
    Label the data
    */
    #no-more-tables td:before { content: attr(data-title); }
}

</style>

<style>
///////////////////////////////////// style //////////////////////////////
    input:required:invalid {
        border: 1px solid red;
    }
    input:required:valid {
        border: 1px solid green;
    }
    select:required:invalid {
        border: 1px solid red;
    }
    select:required:valid {
        border: 1px solid green;
    }
    .form-group {
        padding-left: 8px;
    }
</style>

<style>
.caja {
position: relative;
margin: 5px auto;
height:10px;
}
.info {
position: absolute; /*Info sobre la imagen*/
top: 20%;
left: 70%; /*Desplazamos a partir de la esquina superior izquierda*/
zoom: 1;
filter: alpha(opacity=0); /*Opacidad Para IE */
opacity: 0; /*Inicialmente transparente */
padding: 5px;
background: black;
border:#FFA533 2px solid;
padding: 20px;
font-size:16px;
-moz-transition:all ease .8s;
-webkit-transition:all ease .8s ;
transition:all ease .8s;
z-index:1;
}
.caja:hover .info {
filter: alpha(opacity=80);
opacity: .8;
}

.caja1 {
position: relative;
margin: 10px auto;
}
.info {
position: absolute; /*Info sobre la imagen*/
top: 20%;
left: 70%; /*Desplazamos a partir de la esquina superior izquierda*/
zoom: 1;
filter: alpha(opacity=0); /*Opacidad Para IE */
opacity: 0; /*Inicialmente transparente */
padding: 5px;
background: black;
border:#FFA533 2px solid;
padding: 20px;
font-size:16px;
-moz-transition:all ease .8s;
-webkit-transition:all ease .8s;
transition:all ease .8s;
z-index:1;
}
.caja1:hover .info {
filter: alpha(opacity=80);
opacity: .8;
}

.caja2 {
position: relative;
margin: 10px auto;
}
.info {
position: absolute; /*Info sobre la imagen*/
top: 20%;
left: 70%; /*Desplazamos a partir de la esquina superior izquierda*/
zoom: 1;
filter: alpha(opacity=0); /*Opacidad Para IE */
opacity: 0; /*Inicialmente transparente */
padding: 5px;
background: black;
border:#FFA533 2px solid;
padding: 20px;
font-size:16px;
-moz-transition:all ease .8s;
-webkit-transition:all ease .8s ;
transition:all ease .8s;
z-index:1;
}
.caja2:hover .info {
filter: alpha(opacity=80);
opacity: .8;
}
///////////////////////////////////// style //////////////////////////////
.custom-upload {
    position: relative;
    height: 40px;
    width: 100%;
    margin:30px;
}
.custom-upload input[type=file]
{
    outline:none;
    position: relative;
    text-align: right;
    -moz-opacity:0 ;
    filter:alpha(opacity: 0);
    opacity: 0;
    z-index: 2;
    width:85%;
    height:100%;

}
.custom-upload .fake-file
{
    background:url(http://www.fold3.com/i/upload-icon.png) center right no-repeat;
    position: absolute;
    top: 0px;
    left: 0px;
    width: 85%;
    padding: 0;
    margin: 0;
    z-index: 1;
    line-height: 100%;
}
.custom-upload .fake-file input
{
    font-size:16px;
    height:40px;
    width:85%;
}
</style>

<style>
    input:required:invalid {
        border: 1px solid red;
    }
    input:required:valid {
        border: 1px solid green;
    }
    select:required:invalid {
        border: 1px solid red;
    }
    select:required:valid {
        border: 1px solid green;
    }
    .form-group {
        padding-left: 8px;
    }
</style>



<style>
.custom-upload {
    position: relative;
    height: 40px;
    width: 100%;
    margin:30px;
}

.custom-upload input[type=file]
{
    outline:none;
    position: relative;
    text-align: right;
    -moz-opacity:0 ;
    filter:alpha(opacity: 0);
    opacity: 0;
    z-index: 2;
    width:85%;
    height:100%;

}

.custom-upload .fake-file
{
    background:url(http://www.fold3.com/i/upload-icon.png) center right no-repeat;
    position: absolute;
    top: 0px;
    left: 0px;
    width: 85%;
    padding: 0;
    margin: 0;
    z-index: 1;
    line-height: 100%;
}

.custom-upload .fake-file input
{
    font-size:16px;
    height:40px;
    width:85%;
}
.box2{
        display: inline-block;
        width: 190px;
        margin: 2px;
    }

.ejemplo3 {
        background-color:white;
        border: 2px solid ;
        color: #6F7072;
        margin: 1px auto;
        padding: 10px;
        text-align: center;
        width: 350px;

        }
 table.one
 {border-collapse:collapse;
            width:100%;
            border-spacing:10px;
             /*border-color:#6F7072;*/
        }
 tr.color {
       background-color:#6F7072;
        /*border: green 5px solid; */
       }
    td.color2 {
       border: #FEBF00 5px solid;
       background-color:#FEBF00;
       border-width:5px;
       padding:1px;
   }
   td.colorCA {
       border: #FEBF00 5px solid;
       background-color:#FFFFFF;
        border-width:5px;

        padding:1px;
    }
    td.color22 {
       border: #FEBF00 5px solid;
       background-color:#FEBF00;
       border-width:5px;

       padding:1px;
    }

</style>


<script type="text/javascript">
    var textCambio = "0";

    $('.custom-upload input[type=file]').change(function(){
        $(this).next().find('input').val($(this).val());
        angular.element(this).scope().cambiarFile(this, $(this).val());
    });

    function cambioTexto(){
      textCambio = "1";
    }
    function pagoOnChange(sel) {
      if (sel.value=="1"){
           divC = document.getElementById("nAmbos");
           divC.style.display = "";
           divT = document.getElementById("nUn");
           divT.style.display = "none";
           divE = document.getElementById("nOtr");
           divE.style.display = "none";
      }else{
       if (sel.value=="2"){
           divC = document.getElementById("nAmbos");
           divC.style.display = "none";

           divT = document.getElementById("nUn");
           divT.style.display = "";

           divE = document.getElementById("nOtr");
           divE.style.display = "none";
       }
       else
          {
           divC = document.getElementById("nAmbos");
           divC.style.display = "none";
           divT = document.getElementById("nUn");
           divT.style.display = "none";
           divE = document.getElementById("nOtr");
           divE.style.display = "";
       }
    }
}
    function ConsultarRCJavaScript(carnet, opcion, fila){
      if(textCambio == "1"){
        angular.element(document.getElementById("serviciosSemdesController")).scope().consultaRC_CI('NATURAL', carnet, opcion, fila, textCambio);
        textCambio = "0";
      }
    }

    var Modal = document.createElement('div');
    function verImagen(nombre){
        console.log("cual es este nombre",nombre);
        if(nombre == 0){
            sweetAlert('', 'No Existe Ninguna Imagen', 'warning');
        } else{
            if(document.getElementById('myModalMary') != null){
                elemento=document.getElementById('myModalMary');
                elemento.parentNode.removeChild(elemento);
            }
            Modal.innerHTML = '<div></div>';
            Modal.id = 'myModalMary';
            Modal.className = 'modal fade';
            Modal.setAttribute("data-backdrop", "static");
            document.body.appendChild(Modal);
            var dialog = document.createElement('div');
            dialog.className = 'modal-dialog';
            Modal.appendChild(dialog);
            var content = document.createElement('div');
            content.className = 'modal-content';
            dialog.appendChild(content);
            var header = document.createElement('div');
            header.className = 'modal-header';
            content.appendChild(header);
            var cerrarmodal = document.createElement('button');
            cerrarmodal.type = "button"
            cerrarmodal.className = 'close';
            cerrarmodal.setAttribute("data-dismiss", "modal");
            cerrarmodal.setAttribute("aria-label", "Close");
            cerrarmodal.innerText = 'x';
            header.appendChild(cerrarmodal);
            var title = document.createElement('h4');
            title.className = 'modal-title';
            title.innerText = 'Vista Previa';
            header.appendChild(title);
           // var ddd = document.createElement('br');
            var img = document.createElement('img');
            img.src = nombre;
            img.setAttribute("height", "600");
            img.setAttribute("width", "600");
           // ddd.appendChild(img);
            console.log("cual img es?",img);
            content.appendChild(img);
            var footer = document.createElement('div');
            footer.className = 'modal-footer';
            footer.innerText = '  ';
            content.appendChild(footer);
            var closeBtn = document.createElement('button');
            closeBtn.setAttribute("data-dismiss", "modal");
            closeBtn.setAttribute("type", "button");
            closeBtn.className = 'btn btn-primary btn-inverse';
            closeBtn.innerText = 'Cerrar';
            footer.appendChild(closeBtn);
            $("#myModalMary").modal('show');
        }
    }
    function addRow(cadena,tableID){
       
        var reverso = "";
    var anverso = "";
        var adicionarcalculo = 0;
        //results.dtspl_file_fotocopia_ci="";
        //results.dtspl_file_fotocopia_ci_r="";

        var form_rc = 0;
        var existe = 0;
        var matriz = cadena.split(',');
        if(document.getElementById('myModalMary') != null){
            elemento=document.getElementById('myModalMary');
            elemento.parentNode.removeChild(elemento);
        }
        Modal.innerHTML = '<div></div>';
        Modal.id = 'myModalMary';
        Modal.className = 'modal fade';
        Modal.setAttribute("data-backdrop", "static");
        document.body.appendChild(Modal);
        var dialog = document.createElement('div');
        dialog.className = 'modal-dialog';
        Modal.appendChild(dialog);
        var content = document.createElement('div');
        content.className = 'modal-content';
        dialog.appendChild(content);
        var header = document.createElement('div');
        header.className = 'modal-header';
        content.appendChild(header);
        var cerrarmodal = document.createElement('button');
        cerrarmodal.type = "button"
        cerrarmodal.className = 'close';
        cerrarmodal.setAttribute("data-dismiss", "modal");
        cerrarmodal.setAttribute("aria-label", "Close");
        cerrarmodal.innerText = 'x';
        header.appendChild(cerrarmodal);
        var title = document.createElement('h4');
        title.className = 'modal-title';
        title.innerText = 'Nuevo Registro';
        header.appendChild(title);
        var body = document.createElement('div');
        body.className = 'modal-body';
        content.appendChild(body);
        var calculo = 0;
        var requerido = 0;
        var obligatorio = 1;
        var obligatori = 1;
        console.log("matriiiiiz",matriz);
      //  console.log("consultassss",consultas);
        for(var i = 0 ; i <= matriz.length-7 ;i=i+7){
            var combo = matriz[i+2].split(':');
            var br = document.createElement('br');
            body.appendChild(br);
            var div = document.createElement('div');
            div.className = 'row';
            div.appendChild(br);
            body.appendChild(div);
            var div1 = document.createElement('div');
            div1.className = 'col-md-3';
            div.appendChild(div1);
            var div2 = document.createElement('div');
            div2.className = 'col-md-7';
            div2.appendChild(br);
            div.appendChild(div2);
            var label = document.createElement("Label");
            label.htmlFor = "text" + i
            label.innerHTML= matriz[i];
            div1.appendChild(label);
            var tip;
            if(matriz[i+4] == 'lectura'){
                tip = document.createElement("input");
                tip.id = matriz[i+1];
                tip.className = "form-control";
                tip.type = "text";
                tip.readOnly = true;
                tip.disabled = true;
            }
            else{
                if(matriz[i+2]=='TXT'){
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    tip.className = "form-control";
                    //tip.type = "text";
                    tip.value = document.createElement("input").value;
                    ///////////////////////////////////VALIDACION DE TELEFONOS EN GRILLA DE NIÑOS-CREAR/////////////////////////////////////////////////
                    if (matriz[i+1]=="f01_NNA_TER_TEL" || matriz[i+1]=="f01_ADUL_TER_TEL") {
                      tip.type = "number";
                      tip.onchange = function() {
                          var telefono = document.getElementById(consultas[11]).value;
                          var verific = telefono[0];

                          if (telefono.length == 7 && verific == "2" || telefono.length == 7 && verific == "3" || telefono.length == 7 &&verific == "4") {

                          }else {

                            sweetAlert('Número telefonico inválido', 'Ej. 2545789', 'error');
                            document.getElementById(consultas[11]).value = "";
                          }

                      }
                    }else{
                      tip.type = "text";
                    }
                    if (matriz[i+1]=="f01_NNA_G_TELF" || matriz[i+1]=="f01_ADUL_G_TELF") {
                      tip.onchange = function() {
                          var telefono = document.getElementById(consultas[12]).value;
                          var verific = telefono[0];

                          if (telefono.length == 8 && verific == "7" || telefono.length == 8 && verific == "6") {
                          }else {
                            sweetAlert('Número de celular inválido', 'Ej. 75260602', 'error');
                            document.getElementById(consultas[12]).value = "";
                          }

                      }
                    }else{
                      tip.type = "text";
                    }





///////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (matriz[i+5] == 'BSQ'){
                        var consulta = matriz[i+6];
                        var busquedas = consulta.split("#");
                        tip.onchange = function() {
                            var buscar = new gModal();
                            buscar.busq = 2;
                            buscar.ci = '';
                            buscar.tipo = '';
                            buscar.nombre = document.getElementById(busquedas[0]).value;
                            buscar.appat = document.getElementById(busquedas[1]).value;
                            buscar.apmat = document.getElementById(busquedas[2]).value;
                            buscar.prohibicionebsq(function(resultado){
                                prohres = JSON.parse(resultado);
                                console.log(prohres.success.data.length);
                                if(prohres.success.data.length > 0){
                                    sweetAlert("ADVERTENCIA","Pase por plataforma para el registro del menor","warning");
                                    document.getElementById(campo).value = "";
                                    document.getElementById(consultas[0]).value = "";
                                    document.getElementById(consultas[1]).value = "";
                                    document.getElementById(consultas[2]).value = "";
                                    document.getElementById(consultas[3]).value = "";
                                    document.getElementById(consultas[4]).value = "";
                                    document.getElementById(consultas[5]).value = "";
                                    document.getElementById(consultas[6]).value = "";
                                    document.getElementById(consultas[7]).value = "";
                                    document.getElementById(consultas[8]).value = "";
                                    document.getElementById(consultas[9]).value = "";
                                    document.getElementById(consultas[10]).value = "";
                                    document.getElementById(consultas[11]).value = "";
                                    document.getElementById(consultas[12]).value = "";
                                    document.getElementById(consultas[13]).value = "";
                                    document.getElementById(consultas[14]).value = "";
                                }
                                $.unblockUI();
                            });
                        }
                    } else if(matriz[i+5] == 'RC'){//////////rc1
                        form_rc = 1;
                        var consulta = matriz[i+6];
                        var dependiente = matriz[i+5];
                        var campo = matriz[i+1];
                        var carnet = matriz[i-6];
                        consultas = consulta.split("#");
                        tip.onchange = function() {
                            tipodoc = document.getElementById(carnet).value;
                            ciciudadano = document.getElementById(campo).value;
                            var buscar = new gModal();
                            buscar.busq = 1;
                            buscar.ci = ciciudadano;
                            buscar.tipo = tipodoc;
                            buscar.nombre = '';
                            buscar.appat = '';
                            buscar.apmat = '';
                            buscar.prohibicionebsq(function(resultado){
                                prohres = JSON.parse(resultado);
                                console.log(prohres.success.data.length);
                                if(prohres.success.data.length > 0){
                                    sweetAlert("ADVERTENCIA","Pase por plataforma para el registro del menor","warning");
                                    document.getElementById(campo).value = "";
                                    document.getElementById(consultas[0]).value = "";
                                    document.getElementById(consultas[1]).value = "";
                                    document.getElementById(consultas[2]).value = "";
                                    document.getElementById(consultas[3]).value = "";
                                    document.getElementById(consultas[4]).value = "";
                                    document.getElementById(consultas[5]).value = "";
                                    document.getElementById(consultas[6]).value = "";
                                    document.getElementById(consultas[7]).value = "";
                                    document.getElementById(consultas[8]).value = "";
                                    document.getElementById(consultas[9]).value = "";
                                    document.getElementById(consultas[10]).value = "";
                                    document.getElementById(consultas[11]).value = "";
                                    document.getElementById(consultas[12]).value = "";
                                    document.getElementById('l_'+consultas[13]).value = "";
                                    document.getElementById('l_'+consultas[14]).value = "";
                                }
                                else{
                                    if(tipodoc == 'CI'){
                                        cicomplemento = " ";
                                        var cicomp = ciciudadano.split("-");
                                        var datosCiudadano = new rcNatural();
                                        if(cicomp.length>1){
                                            ciciudadano = cicomp[0];
                                            cicomplemento = cicomp[1];
                                            datosCiudadano.complemento = cicomplemento;
                                        }
                                        datosCiudadano.ci = ciciudadano;
                                        datosCiudadano.buscarNatural(function(resultado){
                                            results = JSON.parse(resultado);
                                            var ci_solicitante = '<%=Session["CICIUDADANO"]%>';
                                            console.log("var ci_solicitante;",ci_solicitante);
                                            //console.log("VARIABLE sesssion)",sessionService.get('CICIUDADANO'));
                                            var elem2 = document.getElementById('f01_NNA_EXP_CIUD#f01_NNA_G_NOM#f01_NNA_G_APAT#f01_NNA_G_AMAT#f01_NNA_G_FEC_NAC#f01_NNA_G_LUG_NAC#f01_NNA_G_CIUD#f01_NNA_G_GEN#f01_NNA_TER_MACRO#f01_NNA_TER_ZONA#f01_NNA_DIR#f01_NNA_TER_TEL#f01_NNA_G_TELF#f01_NNA_ANVERSO_G_ARCH#f01_NNA_REVERSO_G_ARCH');
                                            var elem4 = document.getElementById('f01_ADUL_EXP_CIUD#f01_ADUL_G_NOM#f01_ADUL_G_APAT#f01_ADUL_G_AMAT#f01_ADUL_G_FEC_NAC#f01_ADUL_LUG_NAC#f01_ADUL_TER_CIUD#f01_ADUL_G_GEN#f01_ADUL_TER_MACRO#f01_ADUL_TER_ZONA#f01_ADUL_DIR#f01_ADUL_TER_TEL#f01_ADUL_G_TELF#f01_ADUL_ANVERSO_G_ARCH#f01_ADUL_REVERSO_G_ARCH');
                                            var elem5 = document.getElementById('Exp.');

                                            console.log("borrar antes del lenght",elem2,elem4,elem5);
                                            console.log("results",results);
                                            if(results.length > 0 ){
                                                var anverso = results[0].dtspsl_file_fotocopia_ci;
                                                var reverso = results[0].dtspsl_file_fotocopia_ci_r;
                                                var oid_rc = results[0]._id;
                                                console.log("anvvvvv",anverso, reverso);
                                                console.log("result reverso",results[0].dtspsl_file_fotocopia_ci_r);
                                                console.log("vectores",consultas);
                                                existe = 1;
                                                sweetAlert('', 'Ciudadano Existente', 'success');
                                                var consultsql = "select zona_id as valor, zona_nombre as dato from ae._ae_distritos , ae._ae_zona where dist_macro_id = "+results[0].dtspsl_macrodistrito+" and zona_distrito_id = dist_id order by 2";
                                                document.getElementById(consultas[0]).value = results[0].dtspsl_expedido;
                                                document.getElementById(consultas[1]).value = results[0].dtspsl_nombres;
                                                document.getElementById(consultas[2]).value = results[0].dtspsl_paterno;
                                                document.getElementById(consultas[3]).value = results[0].dtspsl_materno;
                                                var fecnac = new Date(results[0].dtspsl_fec_nacimiento);
                                                var mes = fecnac.getMonth() + 1;
                                                var dia = fecnac.getDate()
                                                if(fecnac.getDate()<10){
                                                    dia = "0"+ dia;
                                                }
                                                if(fecnac.getMonth()<9){
                                                    mes = "0"+ mes;
                                                }
                                                results[0].dtspsl_fec_nacimiento = fecnac.getFullYear()+"-"+mes+"-"+dia;
                                                document.getElementById(consultas[4]).value = results[0].dtspsl_fec_nacimiento;
                                                document.getElementById(consultas[5]).value = results[0].dtspsl_lugar_nacimiento;
                                                document.getElementById(consultas[6]).value = results[0].dtspsl_departamento;
                                                document.getElementById(consultas[7]).value = results[0].dtspsl_sexo;
                                                document.getElementById(consultas[8]).value = results[0].dtspsl_macrodistrito;
                                                setTimeout(function(){ angular.element(document.getElementById('formServiciosSemdes')).scope().datosComboRender(consultas[9],consultsql );
                                                    document.getElementById(consultas[9]).value = results[0].dtspsl_zona; }, 1000);
                                                document.getElementById(consultas[10]).value = results[0].dtspsl_direccion;
                                                document.getElementById(consultas[11]).value = results[0].dtspsl_telefono;
                                                document.getElementById(consultas[12]).value = results[0].dtspsl_movil;
                                                document.getElementById('l_'+consultas[13]).value = "";
                                                document.getElementById('l_'+consultas[14]).value = "";
                                              //  document.getElementById('l_'+consultas[14]).disabled = true;
                                                //results[0].dtspsl_file_fotocopia_ci;
                                                ////////////////PARA OBTENER IMAGENES DE ANVERSO Y REVERSO///////////////
                                                ////////////////PARA OBTENER ANVERSO ADULTOS///////////////
                                                  var elem4 = document.getElementById('f01_ADUL_EXP_CIUD#f01_ADUL_G_NOM#f01_ADUL_G_APAT#f01_ADUL_G_AMAT#f01_ADUL_G_FEC_NAC#f01_ADUL_LUG_NAC#f01_ADUL_TER_CIUD#f01_ADUL_G_GEN#f01_ADUL_TER_MACRO#f01_ADUL_TER_ZONA#f01_ADUL_DIR#f01_ADUL_TER_TEL#f01_ADUL_G_TELF#f01_ADUL_ANVERSO_G_ARCH#f01_ADUL_REVERSO_G_ARCH');

                                                 if (elem4 != null) {
                                                        console.log("existe contenedor de imagen");
                                                        var elem4 = document.getElementById('f01_ADUL_EXP_CIUD#f01_ADUL_G_NOM#f01_ADUL_G_APAT#f01_ADUL_G_AMAT#f01_ADUL_G_FEC_NAC#f01_ADUL_LUG_NAC#f01_ADUL_TER_CIUD#f01_ADUL_G_GEN#f01_ADUL_TER_MACRO#f01_ADUL_TER_ZONA#f01_ADUL_DIR#f01_ADUL_TER_TEL#f01_ADUL_G_TELF#f01_ADUL_ANVERSO_G_ARCH#f01_ADUL_REVERSO_G_ARCH');
                                                         elem4.parentElement.removeChild(elem4);


                                                        console.log("var elem4",elem4)

                                                            if (results[0].dtspsl_file_fotocopia_ci != "") {
                                                                 console.log("si hay imagen",anverso);

                                                                document.getElementById('l_'+consultas[13]).value = results[0].dtspsl_file_fotocopia_ci;
                                                                tip2.disabled=true;
                                                                console.log("anverso y reversoooo",anverso, reverso);
                                                                 var tip6 = document.createElement("img");
                                                                tip6.id = matriz[13];
                                                                tip6.src = "http://192.168.5.141/rest/files/RC_CLI/"+oid_rc+"/"+anverso+"?app_name=todoangular";
                                                                tip6.width = "100";
                                                                tip6.height = "100";
                                                                tip3.appendChild(tip6);
                                                                console.log("ANVERSO tip5.id;",tip6.id);
                                                                console.log("----tip3;",tip3.appendChild(tip6));


                                                            }else{tip2.disabled=false;}
                                                  }
                                                  ;
                                                ////////////////PARA OBTENER ANVERSO NIÑOS///////////////
                                                  var elem2 = document.getElementById('f01_NNA_EXP_CIUD#f01_NNA_G_NOM#f01_NNA_G_APAT#f01_NNA_G_AMAT#f01_NNA_G_FEC_NAC#f01_NNA_G_LUG_NAC#f01_NNA_G_CIUD#f01_NNA_G_GEN#f01_NNA_TER_MACRO#f01_NNA_TER_ZONA#f01_NNA_DIR#f01_NNA_TER_TEL#f01_NNA_G_TELF#f01_NNA_ANVERSO_G_ARCH#f01_NNA_REVERSO_G_ARCH');

                                                    if (elem2 != null) {
                                                        console.log("existe contenedor de imagen");
                                                        var elem2 = document.getElementById('f01_NNA_EXP_CIUD#f01_NNA_G_NOM#f01_NNA_G_APAT#f01_NNA_G_AMAT#f01_NNA_G_FEC_NAC#f01_NNA_G_LUG_NAC#f01_NNA_G_CIUD#f01_NNA_G_GEN#f01_NNA_TER_MACRO#f01_NNA_TER_ZONA#f01_NNA_DIR#f01_NNA_TER_TEL#f01_NNA_G_TELF#f01_NNA_ANVERSO_G_ARCH#f01_NNA_REVERSO_G_ARCH');
                                                         elem2.parentElement.removeChild(elem2);


                                                        console.log("var elm2",elem2)

                                                            if (results[0].dtspsl_file_fotocopia_ci != "") {
                                                                 console.log("si hay imagen",anverso);

                                                                document.getElementById('l_'+consultas[13]).value = results[0].dtspsl_file_fotocopia_ci;
                                                                tip2.disabled=true;
                                                                console.log("anverso y reversoooo",anverso, reverso);
                                                                 var tip5 = document.createElement("img");
                                                                tip5.id = matriz[13];
                                                                tip5.src = "http://192.168.5.141/rest/files/RC_CLI/"+oid_rc+"/"+anverso+"?app_name=todoangular";
                                                                tip5.width = "100";
                                                                tip5.height = "100";
                                                                tip3.appendChild(tip5);
                                                                console.log("ANVERSO tip5.id;",tip5.id);
                                                                console.log("----tip3;",tip3.appendChild(tip5));
                                                              


                                                            }else{tip2.disabled=false;}
                                                  }
                                                  else{
                                                    if (results[0].dtspsl_file_fotocopia_ci != "") {
                                                        console.log("si hay imagen",anverso);

                                                         document.getElementById('l_'+consultas[13]).value = results[0].dtspsl_file_fotocopia_ci;
                                                         tip2.disabled=true;
                                                         console.log("anverso y reversoooo",anverso, reverso);
                                                         var tip5 = document.createElement("img");
                                                         tip5.id = matriz[13];
                                                         tip5.src = "http://192.168.5.141/rest/files/RC_CLI/"+oid_rc+"/"+anverso+"?app_name=todoangular";
                                                         tip5.width = "100";
                                                         tip5.height = "100";
                                                         tip3.appendChild(tip5);
                                                         console.log("ANVERSO tip5.id;",tip5.id);
                                                         console.log("----tip3;",tip3.appendChild(tip5));

                                                         }else{tip2.disabled=false;}
                                                  };

                                                  ////////////////PARA OBTENER REVERSO///////////////

                                                    
                                                  var elem5 = document.getElementById('Exp.');
                                                  console.log("varelem5",elem5);
                                                  if (elem5 != null) {
                                                        console.log("existe contenedor de imagen");
                                                        var elem5 = document.getElementById('Exp.');
                                                        elem5.parentElement.removeChild(elem5);
                                                        console.log("var elm2",elem5);
                                                        if (results[0].dtspsl_file_fotocopia_ci_r != "") {
                                                                document.getElementById('l_'+consultas[14]).value = results[0].dtspsl_file_fotocopia_ci_r;
                                                                tip_2.disabled=true;
                                                                var br = document.createElement('br');
                                                                tip_2.appendChild(br);

                                                                console.log("anvvvvv",anverso, reverso);
                                                                var tip5 = document.createElement("img");
                                                                tip5.id = matriz[14];
                                                                tip5.src = "http://192.168.5.141/rest/files/RC_CLI/"+oid_rc+"/"+reverso+"?app_name=todoangular";
                                                                tip5.width = "100";
                                                                tip5.height = "100";
                                                                tip_3.appendChild(tip5);
                                                                console.log("-----",tip_3);
                                                                console.log("REVERSO tip5.id ",tip5.id);
                                                            
                                                        }else{
                                                            tip_2.disabled=false;
                                                        }
                                                        /* var br = document.createElement('br');
                                                        tip5.appendChild(br);
                                                        var br = document.createElement('br');
                                                        tip5.appendChild(br);
                                                        var br = document.createElement('br');
                                                        body.appendChild(br);
                                                        var br = document.createElement('br');
                                                        body.appendChild(br);*/


                                                }else{

                                                    if (results[0].dtspsl_file_fotocopia_ci_r != "") {
                                                            document.getElementById('l_'+consultas[14]).value = results[0].dtspsl_file_fotocopia_ci_r;
                                                            tip_2.disabled=true;
                                                                var br = document.createElement('br');
                                                                body.appendChild(br);
                                                                var br = document.createElement('br');
                                                                body.appendChild(br);
                                                            var hhh=document.createElement('br');

                                                            console.log("anvvvvv",anverso, reverso);
                                                            var tip5 = document.createElement("img");
                                                            tip5.id = matriz[14];
                                                            tip5.src = "http://192.168.5.141/rest/files/RC_CLI/"+oid_rc+"/"+reverso+"?app_name=todoangular";
                                                            tip5.width = "100";
                                                            tip5.height = "100";
                                                            tip5.appendChild(document.createElement("br"));
                                                            hhh.appendChild(tip5);
                                                            tip_3.appendChild(tip5);
                                                            console.log("-----",tip_3);
                                                           console.log("REVERSO tip5.id ",tip5.id);
                                                           var elem50 = elem5;

                                                        }
                                                        else{tip_2.disabled=false;

                                                        }
                                                        /*var br = document.createElement('br');
                                                        tip5.appendChild(br);
                                                        var br = document.createElement('br');
                                                        tip5.appendChild(br);
                                                        var br = document.createElement('br');
                                                        body.appendChild(br);
                                                        var br = document.createElement('br');
                                                        body.appendChild(br);*/
                                              };

                                              ////////////////FIN OBTENER IMAGENES DE ANVERSO Y REVERSO///////////////


                                                                    console.log("results vla",results);

                                                // document.getElementById('l_'+consultas[13]).disabled = "disabled";
                                            }else{
                                                existe = 0;
                                                sweetAlert('', 'Ciudadano No Existente', 'error');
                                               
                                               
                                                document.getElementById(consultas[0]).value = "";
                                                document.getElementById(consultas[1]).value = "";
                                                document.getElementById(consultas[2]).value = "";
                                                document.getElementById(consultas[3]).value = "";
                                                document.getElementById(consultas[4]).value = "";
                                                document.getElementById(consultas[5]).value = "";
                                                document.getElementById(consultas[6]).value = "";
                                                document.getElementById(consultas[7]).value = "";
                                                document.getElementById(consultas[8]).value = "";
                                                document.getElementById(consultas[9]).value = "";
                                                document.getElementById(consultas[10]).value = "";
                                                document.getElementById(consultas[11]).value = "";
                                                document.getElementById(consultas[12]).value = "";
                                                document.getElementById('l_'+consultas[13]).value = "";
                                                document.getElementById('l_'+consultas[14]).value = "";
                                                console.log("borrar antes del lenght por else",elem2,elem4,elem5);
                                                if (elem2 != null) {
                                                    elem2.parentElement.removeChild(elem2);
                                                    tip2.disabled=false;
                                                };
                                                if (elem5 !=null) {
                                                       elem5.parentElement.removeChild(elem5); 
                                                       tip_2.disabled=false;
                                                    };
                                                        if (elem4 != null) {
                                                            elem4.parentElement.removeChild(elem4);
                                                            tip2.disabled=false;
                                                    };
                                                 
                                               // elem4.parentElement.removeChild(elem4);
                                                //var elem2 = document.getElementById('f01_NNA_EXP_CIUD#f01_NNA_G_NOM#f01_NNA_G_APAT#f01_NNA_G_AMAT#f01_NNA_G_FEC_NAC#f01_NNA_G_LUG_NAC#f01_NNA_G_CIUD#f01_NNA_G_GEN#f01_NNA_TER_MACRO#f01_NNA_TER_ZONA#f01_NNA_DIR#f01_NNA_TER_TEL#f01_NNA_G_TELF#f01_NNA_ANVERSO_G_ARCH#f01_NNA_REVERSO_G_ARCH');
                                                //elem2.parentElement.removeChild(elem2);
                                                //
                                                
                                            }
                                        });
                                    }
                                    else{
                                        document.getElementById(consultas[0]).value = "";
                                        document.getElementById(consultas[1]).value = "";
                                        document.getElementById(consultas[2]).value = "";
                                        document.getElementById(consultas[3]).value = "";
                                        document.getElementById(consultas[4]).value = "";
                                        document.getElementById(consultas[5]).value = "";
                                        document.getElementById(consultas[6]).value = "";
                                        document.getElementById(consultas[7]).value = "";
                                        document.getElementById(consultas[8]).value = "";
                                        document.getElementById(consultas[9]).value = "";
                                        document.getElementById(consultas[10]).value = "";
                                        document.getElementById(consultas[11]).value = "";
                                        document.getElementById(consultas[12]).value = "";
                                        document.getElementById('l_'+consultas[13]).value = "";
                                        document.getElementById('l_'+consultas[14]).value = "";
                                    }
                                }
                            });
                        };
                    } else if(matriz[i+5] != '-'  && matriz[i+5]  != ""){
                        var consulta = matriz[i+6];
                        var dependiente = matriz[i+5];
                        var campo = matriz[i+1];
                        tip.onchange = function() {
                            var valorDependencia = document.getElementById(campo).value;
                            var xConsulta = consulta.replace("*",",");
                            xConsulta = xConsulta.replace("xId", valorDependencia);
                            angular.element(document.getElementById('formServiciosSemdes')).scope().datosComboRender(dependiente, xConsulta);
                        };
                    }
                }else if(matriz[i+2]=='NRO'){
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    tip.className = "form-control";
                    tip.type = "number";
                    tip.step = "any";
                }else if(matriz[i+2]=='SUM'){
                    adicionarcalculo = 1;
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    tip.className = "form-control";
                    tip.type = "number";
                    tip.step = "any";
                }else if(matriz[i+2]=='PROM'){
                    adicionarcalculo = 1;
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    tip.type = "number";
                    tip.step = "any";
                    tip.className = "form-control";
                }////////////////////////////////////////campoarc2
                    else if(matriz[i+2]=='ARC'){

                    tip = document.createElement("div");
                    tip.className = "custom-upload";
                    var tip2;
                    tip2 = document.createElement("input");
                    tip2.type = "file";
                    tip2.id = matriz[i+1];
                    tip2.setAttribute("accept", "image/*");

                   // tip2.disabled = true;///////////////////*********************
                    console.log("matriz[i+1]",matriz[i+1]);
                    console.log("tip2",tip2);
                    var campoArc2 = matriz[i+1];
                    //var w = document.getElementById('l_'+campoArc2).value;
                    tip2.onchange = function(){
                        console.log("tip2...",tip2);
                         //var campoArc = matriz[i+1];
                         var w = document.getElementById('l_'+campoArc2).value;
                         console.log("w",w);

                            if (w == undefined || w == '') {
                                console.log("PONER IMAGEN");

                            }else {console.log("no poner nada");}

                         console.log("campoArc2",campoArc2);
                        console.log("es la posicion",i);
                        console.log("soy la matriz ahora si",matriz)
                        console.log($(this).val(),"HOLAA",campoArc2,"  .  ",document.getElementById('l_'+campoArc2).value);
                        var a = $(this).val();
                        var z = a.split("\\");
                        console.log("AAAAAAAA",a);
                        if (z[2] === undefined){
                            document.getElementById('l_'+campoArc2).value = a;
                        }
                        else{
                            document.getElementById('l_'+campoArc2).value = z[2];
                        }
                    }
                    tip.appendChild(tip2);
                    var tip3 = document.createElement("div");
                    tip3.className = "fake-file";
                    // tip3.disabled = true;///////////////////*********************
                    tip.appendChild(tip3);
                    var tip4 = document.createElement("input");
                    tip4.id = 'l_'+matriz[i+1];
                    tip4.type = 'text';
                    tip4.value = " ";

                    tip3.appendChild(tip4);

                }
                //
               // var br = document.createElement('br');
                   // tip.appendChild(br);

                 //////////////////////////////////////////////////////////////////////////////////////////*/
                else if(matriz[i+2]=='ARC1'){
                    tip = document.createElement("div");
                    tip.className = "custom-upload";
                    var tip_2;
                    tip_2 = document.createElement("input");
                    //tip2.disabled = true;
                   /* if (tip2 == undefined || tip2 == '') {
                        tip2.disabled = false;
                    }else{
                        tip2.disabled = true;
                    }
                    ;*/
                    tip
                    tip_2.type = "file";
                    tip_2.id = matriz[i+1];
                    tip_2.setAttribute("accept", "image/*");
                   // tip2.ng-show = true;///////////////////*********************
                    console.log("matriz[i+1]",matriz[i+1]);
                    console.log("tip_2",tip_2);
                    var campoArc = matriz[i+1];
                    tip_2.onchange = function(){
                        console.log("tip_2",tip_2);
                        var w = document.getElementById('l_'+campoArc).value;
                        //w.disabled = true;
                         console.log("w",w);

                            if (w == undefined || w == '') {
                                console.log("PONER IMAGEN",w);
                               //w.disabled = false;

                            }else {//w.disabled = true;
                                console.log("no poner nada",w);}
                         //var campoArc = matriz[i+1];
                         console.log("campoArc",campoArc);
                        console.log("es la posicion",i);
                        console.log("soy la matriz ahora si",matriz)
                        console.log($(this).val(),"HOLAA",campoArc,"  .  ",document.getElementById('l_'+campoArc).value);
                        var a = $(this).val();
                        var z = a.split("\\");
                        if (z[2] === undefined){
                            document.getElementById('l_'+campoArc).value = a;
                        }
                        else{
                            document.getElementById('l_'+campoArc).value = z[2];
                        }
                    }
                    tip.appendChild(tip_2);
                    var tip_3 = document.createElement("div");
                    tip_3.className = "fake-file";
                    tip.appendChild(tip_3);
                    var tip4 = document.createElement("input");
                    tip4.id = 'l_'+matriz[i+1];
                    tip4.type = 'text';
                    tip4.value = " ";

                    tip_3.appendChild(tip4);
                    var br = document.createElement('br');
                    body.appendChild(br);
                    var br = document.createElement('br');
                    body.appendChild(br);
                    var br = document.createElement('br');
                    body.appendChild(br);

                }/////////////


                else if(matriz[i+2]=='CHK'){
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    tip.type = "checkbox";
                }else if(combo[0]=='CBO') {
                    tip = document.createElement('select');
                    tip.id = matriz[i+1];
                    tip.className = "form-control";
                    filas = combo[1].split('#');
                    if(matriz[i+5] != '-'  && matriz[i+5]  != ""){
                        var cboConsulta = matriz[i+6];
                        cboConsulta = cboConsulta.replace("*",",");
                        var dependienteCbo = matriz[i+5];
                        var campoCbo = matriz[i+1];
                        tip.onchange = function() {
                            var valorDependencia = document.getElementById(campoCbo).value;
                            var mValorDependencia = valorDependencia.split('~');
                            var xCboConsulta = cboConsulta.replace("*",",");
                            xCboConsulta = xCboConsulta.replace("xId", mValorDependencia[0]);
                            angular.element(document.getElementById('formServiciosSemdes')).scope().datosComboRender(dependienteCbo, xCboConsulta);
                        };
                    }

                    tip.options[0] = new Option('--Seleccione--','');
                    for(var j = 0; j < filas.length ;j++){
                        columna= filas[j].split('|');
                        tip.options[j+1] = new Option(columna[1],columna[0]);
                    }
                }else if(matriz[i+2]=='FEC'){
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    tip.type = "date";
                    tip.className = "form-control";
                }
            }
            if(matriz[i+4] == 'obligatorio'){
                requerido = 1;
                tip.required = true;
                obligatori = obligatori+'#'+matriz[i+1];
            }
            div2.appendChild(tip);
            var sssss=document.createElement("br");
        div2.appendChild(sssss);
        }

        var footer = document.createElement('div');
        footer.className = 'modal-footer';
        footer.innerText = '  ';
        content.appendChild(footer);
        var addBtn = document.createElement('button');
        addBtn.onclick = function () {
            console.log("soy el boton guardar")
            if(requerido == 1){
                obligatorios = obligatori.split('#');
                for(var i = 1;i<obligatorios.length;i++){
                    if(document.getElementById(obligatorios[i]).value != ""){
                       obligatorio = 0;
                    }
                    else{
                        obligatorio = 1;
                        break;
                    }
                }
            }else{
                obligatorio = 0;
            }
            //VALIDAR  AÑO
            if (document.getElementById(consultas[4]).value) {

                var val_ano=1;
                var fecnac = new Date(document.getElementById(consultas[4]).value);
                var mes = fecnac.getMonth() + 1;
                if(fecnac.getMonth()<9){
                    mes = "0"+ mes;
                }
                var dia =fecnac.getDate() +1;
                if(dia<10){
                    dia = "0"+ dia;
                }
                fecnac = fecnac.getFullYear()+"-"+mes+"-"+dia;
                //var ano
                var ano = fecnac.split("-");
                console.log("año",ano[0]);
                console.log("año",ano[0].length);


                if (ano[0].length==4){
                   obligatorio = 0;
                   console.log("0",obligatorio);
                }else{
                    obligatorio = 1;
                    console.log("1",obligatorio);
                }
                }else{
                val_ano=0;
                }

                //FIN VALIDAR AÑO
            if(obligatorio == 0){
                if(adicionarcalculo == 1){
                    var sum = document.getElementById(tableID+'_CAL').value.split(",").map(parseFloat);
                    var count = parseInt(document.getElementById(tableID+'_CONT').value);
                     count++;
                    document.getElementById(tableID+'_CONT').value = count;
                    var table = document.getElementById('tabla_'+tableID);
                    var rowCount = table.rows.length;
                    var row = table.insertRow(rowCount);
                    row.id=tableID+"_row"+(rowCount);
                    var newdiv = document.createElement('td');
                    var jsonSting="{";
                    var j = 0;
                    var id = rowCount-1;
                    var datos = JSON.parse(document.getElementById(tableID).value);
                    delete datos[id];
                    var nuevosDatos=[];
                    nuevosDatos = JSON.stringify(datos);
                    document.getElementById(tableID).value = nuevosDatos;
                    cambiarDisplay(tableID+'_row'+ id);
                }
                else{
                    var table = document.getElementById('tabla_'+tableID);
                    var rowCount = table.rows.length;
                    var row = table.insertRow(rowCount);
                    row.id=tableID+"_row"+(rowCount);
                    var newdiv = document.createElement('td');
                    var jsonSting="{";
                    var j = 0;
                }
                for(var i = matriz.length-7; i >=0 ;i=i-7){
                    cell1 = row.insertCell(0);
                    cell1.id = "c_"+matriz[i+1]+(rowCount);
                    var componente = matriz[i+2].split(':');
                    console.log("componenteeeeeeee",componente);

                  /* if(componente[0] == 'ARC'||componente[0] == 'ARC1'){//desde aqui para el boton  de adjunto
                        var fArchivo = document.getElementById(matriz[i+1]);
                        if(fArchivo.value == ""){
                            var newlink = document.createElement('div');
                            var currenttext = document.createElement('div');
                            currenttext.innerHTML = '<div class = "col-md-12"><button  value = "0"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(0);"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="0" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';
                        } else{
                            var url = angular.element(document.getElementById("formServiciosSemdes")).scope().guardarArchivo(fArchivo);
                            console.log('ULR 1',url);
                            var a = url.split('"')
                            var newlink = document.createElement('div');
                            var currenttext = document.createElement('div');
                            var b = a[4].split("/");
                            b = b[7].split("?");
                            currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",';
                        }//hasta aqui para el boton  de adjunto*/



                        if(componente[0] == 'ARC'){//desde aqui para el boton  de adjunto
                        var fArchivo = document.getElementById(matriz[i+1]);
                        console.log("fArchivo",fArchivo);
                        if(fArchivo.value == ""){
                            var newlink = document.createElement('div');
                            var currenttext = document.createElement('div');
                            var ci_solicitante = localStorage.getItem('CI');

                            if (results.length > 0) {
                                
                            //   http://192.168.5.141/rest/files/SCANNER/8310852/logggg.png?app_name=todoangular
                            var iiimmmg = "http://192.168.5.141/rest/files/RC_CLI/"+results[0]._id+"/"+results[0].dtspsl_file_fotocopia_ci+"?app_name=todoangular";
                            currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+iiimmmg+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\''+iiimmmg+'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+results[0].dtspsl_file_fotocopia_ci+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';
                        }
                            else{
                                
                                currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",'
                            };
                            //currenttext.innerHTML = '<div class = "col-md-12"><button  value = "0"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(0);"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="0" readonly="readonly"></div></td>';
                            //jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';
                        } else{
                            var url = angular.element(document.getElementById("formServiciosSemdes")).scope().guardarArchivo(fArchivo);
                            console.log('ULR 1',url);
                            var ci_solicitante = localStorage.getItem('CI');
                            var a = url.split('"')
                            console.log("variable a",a);
                            var newlink = document.createElement('div');
                            var currenttext = document.createElement('div');
                            var b = a[4].split("/");
                            console.log("variab a[4]",a[4]);
                            console.log("variable B",b);
                            b = b[7].split("?");
                            console.log("variable B de b7",b);
                            if (results.length > 0) {
                               
                            var iiimmmg = "http://192.168.5.141/rest/files/SCANNER/"+ci_solicitante+"/"+b[0]+"?app_name=todoangular";
                            //alert(iiimmmg);
                            currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+iiimmmg+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\''+iiimmmg+'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+results[0].dtspsl_file_fotocopia_ci+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';}
                            else{
                                
                                currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",'
                            };
                            //currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                           // jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",';
                        }//hasta aqui para el boton  de adjunto



                    }

                    else if(componente[0] == 'ARC1'){//desde aqui para el boton  de adjunto
                        var fArchivo = document.getElementById(matriz[i+1]);
                        console.log("fArchivo",fArchivo);
                        var ci_solicitante = localStorage.getItem('CI');

                        if(fArchivo.value == ""){
                            var newlink = document.createElement('div');
                            var currenttext = document.createElement('div');
                            if (results.length > 0) {
                            var iiimmmg1 = "http://192.168.5.141/rest/files/RC_CLI/"+results[0]._id+"/"+results[0].dtspsl_file_fotocopia_ci_r+"?app_name=todoangular";
                            currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+iiimmmg1+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\''+iiimmmg1+'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+results[0].dtspsl_file_fotocopia_ci_r+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';}
                            else{
                                currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",'
                            };
                            //currenttext.innerHTML = '<div class = "col-md-12"><button  value = "0"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(0);"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="0" readonly="readonly"></div></td>';
                            //jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';
                        } else{
                            var url = angular.element(document.getElementById("formServiciosSemdes")).scope().guardarArchivo(fArchivo);
                            console.log('ULR 1',url);
                            var a = url.split('"')
                            console.log("variable a",a);
                            var newlink = document.createElement('div');
                            var currenttext = document.createElement('div');
                            var b = a[4].split("/");
                            console.log("variab a[4]",a[4]);
                            console.log("variable B",b);
                            b = b[7].split("?");
                            console.log("variable B de b7",b);
                            if (results.length > 0) {
                            var iiimmmg1 = "http://192.168.5.141/rest/files/SCANNER/"+ci_solicitante+"/"+b[0]+"?app_name=todoangular";
                            currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+iiimmmg1+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\''+iiimmmg1+'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+results[0].dtspsl_file_fotocopia_ci_r+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';}
                            else{
                                currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",'
                            };
                            //currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                           // jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",';
                        }//hasta aqui para el boton  de adjunto













                    }


                   else if(componente[0] == 'NRO'){
                        jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+document.getElementById(matriz[i+1]).value+'",';
                        var currenttext = document.createElement("input");
                        currenttext.id = matriz[i+1]+(rowCount);
                        currenttext.type = "text";
                        currenttext.disabled = "true";
                        currenttext.readonly = "readonly";
                        currenttext.className = "";
                        currenttext.value = document.getElementById(matriz[i+1]).value;
                        if(document.getElementById(matriz[i+1]).value == ""){
                            document.getElementById(matriz[i+1]).value = 0;
                        } ;
                        if(sum[j] == undefined){
                            sum[j] = 0;
                        } ;
                        sum[j] = sum[j] + parseFloat(document.getElementById(matriz[i+1]).value);
                    }else if(componente[0] == 'CHK'){
                        if(document.getElementById(matriz[i+1]).checked){
                            document.getElementById(matriz[i+1]).value = 'SI';
                        }
                        else {
                            document.getElementById(matriz[i+1]).value = 'NO';
                        }
                        jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+document.getElementById(matriz[i+1]).value+'",';
                        var currenttext = document.createElement("input");
                        currenttext.id = matriz[i+1]+(rowCount);
                        currenttext.type = "text";
                        currenttext.disabled = "true";
                        currenttext.readonly = "readonly";
                        currenttext.className = "";
                        currenttext.value = document.getElementById(matriz[i+1]).value;
                    }else if(componente[0] == 'CBO'){
                        var selected = document.getElementById(matriz[i+1]);
                        jsonSting = jsonSting+'"'+matriz[i+1]+'_valor":"'+document.getElementById(matriz[i+1]).value+'",';
                        jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+selected.options[selected.selectedIndex].text+'",';
                        var cbovalor = document.createElement("input");
                        cbovalor.id = matriz[i+1]+(rowCount);
                        cbovalor.type = "text";
                        cbovalor.disabled = "true";
                        cbovalor.readonly = "readonly";
                        cbovalor.value = selected.options[selected.selectedIndex].text;
                        cell1.appendChild(cbovalor);
                        var currenttext = document.createElement("input");
                        currenttext.id = matriz[i+1]+(rowCount)+"_valor";
                        currenttext.type = "hidden";
                        currenttext.disabled = "true";
                        currenttext.readonly = "readonly";
                        currenttext.className = "";
                        currenttext.value = document.getElementById(matriz[i+1]).value;
                    }
                    else {
                        jsonSting=jsonSting+'"'+matriz[i+1]+'":"'+document.getElementById(matriz[i+1]).value+'",';
                        var currenttext = document.createElement("input");
                        currenttext.id = matriz[i+1]+(rowCount);
                        currenttext.type = "text";
                        currenttext.disabled = "true";
                        currenttext.readonly = "readonly";
                        currenttext.className = "";
                        currenttext.value = document.getElementById(matriz[i+1]).value;
                    }
                    if(matriz[i+3] && matriz[i+3] != 0)
                            currenttext.size = matriz[i+3];
                        else
                            currenttext.size = 10;
                    cell1.appendChild(currenttext);
                    j++;
                }
                newdiv.innerHTML = '<button class="btn btn-default btn-circle" onclick="eliminarTabla(' + rowCount + ',\'' + tableID + '\',\'' + cadena + '\');"><i class="fa fa-trash-o" style="color:#249FE6"></i></button> <button class="btn btn-default btn-circle" onclick="editarGrilla(' + rowCount + ',\'' + cadena + '\',\'' + tableID + '\');"><i class="fa fa-pencil" style="color:#249FE6"></i></button></td>';
                newdiv.id="c_btn_"+row.id;
                cell1 = row.insertCell(0);
                cell1.appendChild(newdiv);
                jsonSting = jsonSting.substring(0,jsonSting.length-1);
                jsonSting = jsonSting + "}";
                addRowJson(jsonSting,tableID);
                if(adicionarcalculo == 1){
                    var rowCount1 = table.rows.length;
                    var row1 = table.insertRow(rowCount1);
                    row1.id=tableID+"_row"+(rowCount1);
                    var newdiv = document.createElement('td');
                    var jsonSting="{";
                    var j = 0;
                    for(var i = matriz.length-7; i >=0 ;i=i-7){
                        cell2 = row1.insertCell(0);
                        cell2.id="c_"+matriz[i+1]+(rowCount1);
                        var componente = matriz[i+2].split(':');
                        if(componente[0] == 'PROM'){
                            var currenttext = document.createElement("input");
                            currenttext.id = matriz[i+1]+(rowCount1);
                            currenttext.type = "text";
                            currenttext.disabled = "true";
                            currenttext.readonly = "readonly";
                            currenttext.className = "";
                            if(document.getElementById(matriz[i+1]).value == ""){
                                document.getElementById(matriz[i+1]).value = 0;
                            } ;
                            if(sum[j] == undefined || sum[j] == NaN){
                                sum[j] = 0;
                            } ;
                            sum[j] = sum[j] + parseFloat(document.getElementById(matriz[i+1]).value);
                            var prom = sum[j]/count;
                            jsonSting=jsonSting+'"'+matriz[i+1]+'":"'+prom+'",';
                            currenttext.value = prom;
                        }else if(componente[0] == 'SUM'){
                            var currenttext = document.createElement("input");
                            currenttext.id = matriz[i+1]+(rowCount);
                            currenttext.type = "text";
                            currenttext.disabled = "true";
                            currenttext.readonly = "readonly";
                            currenttext.className = "";

                            if(document.getElementById(matriz[i+1]).value == ""){
                                document.getElementById(matriz[i+1]).value = 0;
                            } ;
                            if(sum[j] == undefined || sum[j] == NaN ){
                                sum[j] = 0;
                            } ;
                            sum[j] = sum[j] + parseFloat(document.getElementById(matriz[i+1]).value);
                            jsonSting=jsonSting+'"'+matriz[i+1]+'":"'+sum[j]+'",';
                            currenttext.value = sum[j];
                        }
                        else {
                           jsonSting=jsonSting+'"'+matriz[i+1]+'":" ",';
                            var currenttext = document.createElement("input");
                            currenttext.id = matriz[i+1]+(rowCount);
                            currenttext.type = "text";
                            currenttext.disabled = "true";
                            currenttext.readonly = "readonly";
                            currenttext.className = "";
                            currenttext.value = " ";
                        }
                        if(matriz[i+3] && matriz[i+3]!=0)
                            currenttext.size = matriz[i+3];
                        else
                            currenttext.size = 10;
                        cell2.appendChild(currenttext);
                        j++;
                    }
                    newdiv.innerHTML = '<div></div></td>';
                    newdiv.id="c_btn_"+row1.id;
                    cell2 = row1.insertCell(0);
                    cell2.appendChild(newdiv);
                    jsonSting = jsonSting.substring(0,jsonSting.length-1);
                    jsonSting = jsonSting + "}";
                    addRowJson(jsonSting,tableID);
                    document.getElementById(tableID+'_CAL').value = sum;
                }

                if(form_rc==1 &&  tipodoc == 'CI'){
                    if(existe == 1){
                        console.log(results[0],'CIIII');
                        var modificarCiudadano = new rcNatural();
                        modificarCiudadano.oid = results[0]._id;
                        modificarCiudadano.nombre = document.getElementById(consultas[1]).value;
                        modificarCiudadano.paterno = document.getElementById(consultas[2]).value;
                        modificarCiudadano.materno = document.getElementById(consultas[3]).value;
                        modificarCiudadano.tercer_apellido = results[0].dtspsl_tercer_apellido;
                        modificarCiudadano.ci = ciciudadano;
                        modificarCiudadano.complemento = results[0].dtspsl_complemento;
                        modificarCiudadano.expedido = document.getElementById(consultas[0]).value;
                        var fecnac = new Date(document.getElementById(consultas[4]).value);
                        var mes = fecnac.getMonth() + 1;
                        if(fecnac.getMonth()<9){
                            mes = "0"+ mes;
                        }
                        var dia =fecnac.getDate() + 2;
                        if(dia < 10){
                            dia = "0"+ dia;
                        }
                        fecnac = fecnac.getFullYear()+"-"+mes+"-"+dia;
                        modificarCiudadano.fec_nacimiento = fecnac;
                        modificarCiudadano.lugar_nacimiento = document.getElementById(consultas[5]).value;
                        modificarCiudadano.pais_origen = results[0].dtspsl_pais;
                        modificarCiudadano.sexo = document.getElementById(consultas[7]).value;
                        if(results[0].dtspsl_id_estado_civil)
                            modificarCiudadano.id_estado_civil = results[0].dtspsl_id_estado_civil;
                        else
                            modificarCiudadano.id_estado_civil = " ";
                        if(results[0].dtspsl_profesion)
                            modificarCiudadano.profesion = results[0].dtspsl_profesion;
                        else
                            modificarCiudadano.profesion = " ";
                        modificarCiudadano.otra_profesion = results[0].dtspsl_otra_profesion;
                        modificarCiudadano.telefono = document.getElementById(consultas[11]).value
                        modificarCiudadano.movil = document.getElementById(consultas[12]).value
                        modificarCiudadano.correo = results[0].dtspsl_correo;
                        modificarCiudadano.direccion = document.getElementById(consultas[10]).value;
                        modificarCiudadano.pais = results[0].dtspsl_pais;
                        modificarCiudadano.departamento = document.getElementById(consultas[6]).value;
                        modificarCiudadano.provincia = results[0].dtspsl_provincia;
                        modificarCiudadano.municipio = results[0].dtspsl_municipio;
                        modificarCiudadano.macrodistrito = document.getElementById(consultas[8]).value;
                        modificarCiudadano.macrodistrito_desc = results[0].dtspsl_macrodistrito_desc;
                        modificarCiudadano.distrito = results[0].dtspsl_distrito;
                        modificarCiudadano.distrito_desc = results[0].dtspsl_distrito_desc;
                        modificarCiudadano.zona = document.getElementById(consultas[9]).value;
                        modificarCiudadano.zona_desc = results[0].dtspsl_zona_desc;
                        modificarCiudadano.tipo_via = results[0].dtspsl_tipo_via;
                        modificarCiudadano.nombre_via = results[0].dtspsl_nombre_via;
                        modificarCiudadano.numero_casa = results[0].dtspsl_numero_casa;
                        modificarCiudadano.edificio = results[0].dtspsl_edificio;
                        modificarCiudadano.bloque = results[0].dtspsl_bloque;
                        modificarCiudadano.piso = results[0].dtspsl_piso;
                        modificarCiudadano.oficina = results[0].dtspsl_oficina;
                        modificarCiudadano.latitud = results[0].dtspsl_latitud;
                        modificarCiudadano.longitud = results[0].dtspsl_longitud;
                        modificarCiudadano.usr_id = results[0].dtspsl_id;
                        modificarCiudadano.activacionf = results[0].dtspsl_activacionf;
                        modificarCiudadano.activaciond = results[0].dtspsl_activaciond;
                        modificarCiudadano.file_fotocopia_ci = document.getElementById(consultas[13]).value;
                        modificarCiudadano.file_fotocopia_ci_r = document.getElementById(consultas[14]).value;
                        modificarCiudadano.fec_vencimiento = results[0].dtspsl_fec_vencimiento;
                        modificarCiudadano.file_factura_luz = results[0].dtspsl_file_factura_luz;
                        if(results[0].dtspsl_URL)
                            modificarCiudadano.URL = results[0].dtspsl_URL;
                        else
                            modificarCiudadano.URL = " ";
                        /*modificarCiudadano.modificarNatural(function(resultado){
                            resultadoApi = JSON.parse(resultado);
                            if( typeof(resultadoApi.success) != 'undefined')
                            {
                                console.log("MODIFICACION CORRECTA");
                            }
                            else
                            {
                                console.log(resultadoApi);
                            }
                        });*/
                    }
                    else{
                        var registrarCiudadano = new rcNatural();
                        registrarCiudadano.ci = ciciudadano;
                        registrarCiudadano.complemento = cicomplemento;
                        registrarCiudadano.nombre = document.getElementById(consultas[1]).value;
                        registrarCiudadano.paterno = document.getElementById(consultas[2]).value;
                        registrarCiudadano.materno = document.getElementById(consultas[3]).value;
                        registrarCiudadano.tercer_apellido = " ";
                        registrarCiudadano.expedido = document.getElementById(consultas[0]).value;
                        var fecnac = new Date(document.getElementById(consultas[4]).value);
                        var mes = fecnac.getMonth() + 1;
                        if(fecnac.getMonth()<9){
                            mes = "0"+ mes;
                        }
                        var dia =fecnac.getDate() + 2;
                        if(dia<10){
                            dia = "0"+ dia;
                        }
                        fecnac = fecnac.getFullYear()+"-"+mes+"-"+dia;
                        registrarCiudadano.fec_nacimiento = fecnac;
                        registrarCiudadano.lugar_nacimiento = document.getElementById(consultas[5]).value;
                        registrarCiudadano.pais_origen = " ";
                        registrarCiudadano.sexo = document.getElementById(consultas[7]).value;
                        registrarCiudadano.id_estado_civil = "S";
                        registrarCiudadano.profesion = "50";
                        registrarCiudadano.otra_profesion = " ";
                        registrarCiudadano.telefono = document.getElementById(consultas[11]).value;
                        registrarCiudadano.movil = document.getElementById(consultas[12]).value;
                        registrarCiudadano.dtspl_file_fotocopia_ci = document.getElementById(consultas[13]).value;
                        registrarCiudadano.dtspsl_file_fotocopia_ci_r = document.getElementById(consultas[14]).value;
                        registrarCiudadano.correo = " ";
                        registrarCiudadano.direccion = document.getElementById(consultas[10]).value;
                        registrarCiudadano.usr_id = "0";
                        registrarCiudadano.crearNatural(function(resultado){
                            resultadoApi = JSON.parse(resultado);
                            if( typeof(resultadoApi.success) != 'undefined')
                            {
                                console.log("REGISTRO CORRECTO");
                            }
                            else
                            {
                                console.log(resultadoApi);
                            }
                        });
                    }

                }
                $("#myModalMary").modal('hide');
           }else{
                console.log(val_ano);
                if (val_ano == 1 && obligatorio == 1) {
                    sweetAlert('','Ingrese una fecha valida','error');
                }else{
                sweetAlert('','Complete Todos Los Datos correctamente','error');
                }
            }

        };
        addBtn.setAttribute("type", "button");
        addBtn.className = 'btn btn-primary btn-inverse';
        addBtn.innerText = 'Guardar';
        footer.appendChild(addBtn);
        var closeBtn = document.createElement('button');
        closeBtn.setAttribute("data-dismiss", "modal");
        closeBtn.setAttribute("type", "button");
        closeBtn.className = 'btn btn-primary btn-inverse';
        closeBtn.innerText = 'Cerrar';
        footer.appendChild(closeBtn);
        $("#myModalMary").modal('show');
    }
    function editarGrilla(k,item,nombre){
        console.log("es el k",k);
        console.log("es el item",item);
        console.log("es el nombre",nombre);
        var editarCalculo = 0;
        var form_rc = 0;
        var existe = 0;
        var matriz = item.split(',');
        var table = document.getElementById('tabla_'+nombre);
        var rowCount = table.rows.length - 1;
        if(document.getElementById('myModalMary') != null){
            elemento=document.getElementById('myModalMary');
            elemento.parentNode.removeChild(elemento);
        }
        Modal.innerHTML = '<div></div>';
        Modal.id = 'myModalMary';
        Modal.className = 'modal fade';
        Modal.setAttribute("data-backdrop", "static");
        document.body.appendChild(Modal);
        var dialog = document.createElement('div');
        dialog.className = 'modal-dialog';
        Modal.appendChild(dialog);
        var content = document.createElement('div');
        content.className = 'modal-content';
        dialog.appendChild(content);
        var header = document.createElement('div');
        header.className = 'modal-header';
        content.appendChild(header);
        var cerrarmodal = document.createElement('button');
        cerrarmodal.type = "button"
        cerrarmodal.className = 'close';
        cerrarmodal.setAttribute("data-dismiss", "modal");
        cerrarmodal.setAttribute("aria-label", "Close");
        cerrarmodal.innerText = 'x';
        header.appendChild(cerrarmodal);
        var title = document.createElement('h4');
        title.className = 'modal-title';
        title.innerText = 'Editar Registro';
        header.appendChild(title);
        var body = document.createElement('div');
        body.className = 'modal-body';
        content.appendChild(body);
        var requerido = 0;
        var obligatorio = 1;
        var obligatori = 1;
        var consultas ;
        for(var i = 0 ; i <= matriz.length-7 ;i=i+7){
            var combo = matriz[i+2].split(':');
            var br = document.createElement('br');
            body.appendChild(br);
            var div = document.createElement('div');
            div.className = 'row';
            body.appendChild(div);
            var div1 = document.createElement('div');
            div1.className = 'col-md-3';
            div.appendChild(div1);
            var div2 = document.createElement('div');
            div2.className = 'col-md-7';
            div.appendChild(div2);
            //div2.appendChild(br);///////////////////////////////uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu
            var label = document.createElement("Label");
            label.htmlFor = "text" + i
            label.innerHTML= matriz[i];
            div1.appendChild(label);
            var tip;
            if(matriz[i+4] == 'lectura'){
                tip = document.createElement("input");
                tip.id = matriz[i+1];
                tip.type = "text";
                tip.readOnly = true;
                tip.disabled = true;
                tip.value = document.getElementById(matriz[i+1]+k).value;
            }
            else{
                if(matriz[i+2]=='TXT'){
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    //tip.type = "text";
                    tip.className = "form-control";
                    tip.value = document.getElementById(matriz[i+1]+k).value;
                    ///////////////////////////////////VALIDACION DE TELEFONOS EN GRILLAS RC CREAR/////////////////////////////////////////////////
                    if (matriz[i+1]=="f01_NNA_TER_TEL" || matriz[i+1]=="f01_ADUL_TER_TEL") {
                      tip.type = "number";
                      tip.onchange = function() {
                          var telefono = document.getElementById(consultas[11]).value;
                          var verific = telefono[0];

                          if (telefono.length == 7 && verific == "2" || telefono.length == 7 && verific == "3" || telefono.length == 7 &&verific == "4") {

                          }else {

                            sweetAlert('Número telefonico inválido', 'Ej. 2395789', 'error');
                            document.getElementById(consultas[11]).value = "";
                          }

                      }
                    }else{
                      tip.type = "text";
                    }
                    if (matriz[i+1]=="f01_NNA_G_TELF" || matriz[i+1]=="f01_ADUL_G_TELF") {
                      tip.onchange = function() {
                          var telefono = document.getElementById(consultas[12]).value;
                          var verific = telefono[0];

                          if (telefono.length == 8 && verific == "7" || telefono.length == 8 && verific == "6") {
                          }else {
                            sweetAlert('Número de celular inválido', 'Ej. 71260602', 'error');
                            document.getElementById(consultas[12]).value = "";
                          }

                      }
                    }else{
                      tip.type = "text";
                    }
///////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (matriz[i+5] == 'BSQ'){
                        var consulta = matriz[i+6];
                        var busquedas = consulta.split("#");
                        tip.onchange = function() {
                            var buscar = new gModal();
                            buscar.busq = 2;
                            buscar.ci = '';
                            buscar.tipo = '';
                            buscar.nombre = document.getElementById(busquedas[0]).value;
                            buscar.appat = document.getElementById(busquedas[1]).value;
                            buscar.apmat = document.getElementById(busquedas[2]).value;
                            buscar.prohibicionebsq(function(resultado){
                                prohres = JSON.parse(resultado);
                                console.log(prohres.success.data.length);
                                if(prohres.success.data.length > 0){
                                    sweetAlert("ADVERTENCIA","Pase por plataforma para el registro del menor","warning");
                                    document.getElementById(campo).value = "";
                                    document.getElementById(consultas[0]).value = "";
                                    document.getElementById(consultas[1]).value = "";
                                    document.getElementById(consultas[2]).value = "";
                                    document.getElementById(consultas[3]).value = "";
                                    document.getElementById(consultas[4]).value = "";
                                    document.getElementById(consultas[5]).value = "";
                                    document.getElementById(consultas[6]).value = "";
                                    document.getElementById(consultas[7]).value = "";
                                    document.getElementById(consultas[8]).value = "";
                                    document.getElementById(consultas[9]).value = "";
                                    document.getElementById(consultas[10]).value = "";
                                    document.getElementById(consultas[11]).value = "";
                                    document.getElementById(consultas[12]).value = "";
                                    document.getElementById(consultas[13]).value = "";
                                    document.getElementById(consultas[14]).value = "";
                                }
                                $.unblockUI();
                            });
                        }
                    } else if(matriz[i+5] == 'RC'){////////rc2
                        form_rc = 1;
                        var consulta = matriz[i+6];
                        var dependiente = matriz[i+5];
                        var campo = matriz[i+1];
                        var carnet = matriz[i-6];
                        consultas = consulta.split("#");
                        tipodoc = document.getElementById(carnet+k+'_valor').value;
                        ciciudadano = document.getElementById(campo+k).value;
                        if(tipodoc == 'CI'){
                            cicomplemento = " ";
                            var cicomp = ciciudadano.split("-");
                            var datosCiudadano = new rcNatural();
                            if(cicomp.length>1){
                                ciciudadano = cicomp[0];
                                cicomplemento = cicomp[1];
                                datosCiudadano.complemento = cicomplemento;
                            }
                            datosCiudadano.ci = ciciudadano;
                            datosCiudadano.buscarNatural(function(resultado){
                                results = JSON.parse(resultado);
                                if(results.length > 0 ){
                                    existe = 1;
                                }else{
                                    existe = 0;

                                }
                            });
                        }
                        tip.onchange = function() {
                            console.log("DATOS DE NIÑOSSS");
                            tipodoc = document.getElementById(carnet).value;
                            ciciudadano = document.getElementById(campo).value;
                            var buscar = new gModal();
                            buscar.busq = 1;
                            buscar.ci = ciciudadano;
                            buscar.tipo = tipodoc;
                            buscar.nombre = '';
                            buscar.appat = '';
                            buscar.apmat = '';
                            buscar.prohibicionebsq(function(resultado){
                                prohres = JSON.parse(resultado);
                                console.log(prohres.success.data.length);
                                if(prohres.success.data.length > 0){
                                    sweetAlert("ADVERTENCIA","Pase por plataforma para el registro del menor","warning");
                                    document.getElementById(campo).value = "";
                                    document.getElementById(consultas[0]).value = "";
                                    document.getElementById(consultas[1]).value = "";
                                    document.getElementById(consultas[2]).value = "";
                                    document.getElementById(consultas[3]).value = "";
                                    document.getElementById(consultas[4]).value = "";
                                    document.getElementById(consultas[5]).value = "";
                                    document.getElementById(consultas[6]).value = "";
                                    document.getElementById(consultas[7]).value = "";
                                    document.getElementById(consultas[8]).value = "";
                                    document.getElementById(consultas[9]).value = "";
                                    document.getElementById(consultas[10]).value = "";
                                    document.getElementById(consultas[11]).value = "";
                                    document.getElementById(consultas[12]).value = "";
                                    document.getElementById(consultas[13]).value = "";
                                    document.getElementById(consultas[14]).value = "";
                                }
                                else{
                                    console.log(consultas);
                                    if(tipodoc == 'CI'){
                                        cicomplemento = " ";
                                        var cicomp = ciciudadano.split("-");
                                        var datosCiudadano = new rcNatural();
                                        if(cicomp.length>1){
                                            ciciudadano = cicomp[0];
                                            cicomplemento = cicomp[1];
                                            datosCiudadano.complemento = cicomplemento;
                                        }
                                        datosCiudadano.ci = ciciudadano;
                                        datosCiudadano.buscarNatural(function(resultado){
                                            results = JSON.parse(resultado);
                                            if(results.length > 0 ){
                                                existe = 1;
                                                sweetAlert('', 'Ciudadano Existente', 'success');
                                                var consultsql = "select zona_id as valor, zona_nombre as dato from ae._ae_distritos , ae._ae_zona where dist_macro_id = "+results[0].dtspsl_macrodistrito+" and zona_distrito_id = dist_id order by 2";

                                                document.getElementById(consultas[0]).value = results[0].dtspsl_expedido;
                                                document.getElementById(consultas[1]).value = results[0].dtspsl_nombres;
                                                document.getElementById(consultas[2]).value = results[0].dtspsl_paterno;
                                                document.getElementById(consultas[3]).value = results[0].dtspsl_materno;
                                                var fecnac = new Date(results[0].dtspsl_fec_nacimiento);
                                                var mes = fecnac.getMonth() + 1;
                                                var dia = fecnac.getDate();
                                                if(dia<10){
                                                    dia = "0"+ dia;
                                                }
                                                if(fecnac.getMonth()<9){
                                                    mes = "0"+ mes;
                                                }
                                                results[0].dtspsl_fec_nacimiento = fecnac.getFullYear()+"-"+mes+"-"+dia;
                                                document.getElementById(consultas[4]).value = results[0].dtspsl_fec_nacimiento;
                                                document.getElementById(consultas[5]).value = results[0].dtspsl_lugar_nacimiento;
                                                document.getElementById(consultas[6]).value = results[0].dtspsl_departamento;
                                                document.getElementById(consultas[7]).value = results[0].dtspsl_sexo;
                                                document.getElementById(consultas[8]).value = results[0].dtspsl_macrodistrito;
                                                setTimeout(function(){
                                                    angular.element(document.getElementById('formServiciosSemdes')).scope().datosComboRender(consultas[9],consultsql );
                                                    document.getElementById(consultas[9]).value = results[0].dtspsl_zona; }, 1000);
                                                document.getElementById(consultas[10]).value = results[0].dtspsl_direccion;
                                                document.getElementById(consultas[11]).value = results[0].dtspsl_telefono;
                                                document.getElementById(consultas[12]).value = results[0].dtspsl_movil;
                                               // document.getElementById('l_'+consultas[13]).value = results[0].dtspsl_file_fotocopia_ci;
                                               // document.getElementById('l_'+consultas[14]).value = results[0].dtspsl_file_fotocopia_ci_r;
                                              //  document.getElementById('l_'+consultas[14]).disabled = true;
                                                //results[0].dtspsl_file_fotocopia_ci;
                                                ////////////////PARA OBTENER IMAGENES DE ANVERSO Y REVERSO///////////////
                                                ////////////////PARA OBTENER ANVERSO ADULTOS///////////////
                                                  var elem4 = document.getElementById('f01_ADUL_EXP_CIUD#f01_ADUL_G_NOM#f01_ADUL_G_APAT#f01_ADUL_G_AMAT#f01_ADUL_G_FEC_NAC#f01_ADUL_LUG_NAC#f01_ADUL_TER_CIUD#f01_ADUL_G_GEN#f01_ADUL_TER_MACRO#f01_ADUL_TER_ZONA#f01_ADUL_DIR#f01_ADUL_TER_TEL#f01_ADUL_G_TELF#f01_ADUL_ANVERSO_G_ARCH#f01_ADUL_REVERSO_G_ARCH');

                                                 // console.log("elem_anv",elem_anv);
                                                    if (elem4 != null) {
                                                        console.log("existe contenedor de imagen");
                                                        var elem4 = document.getElementById('f01_ADUL_EXP_CIUD#f01_ADUL_G_NOM#f01_ADUL_G_APAT#f01_ADUL_G_AMAT#f01_ADUL_G_FEC_NAC#f01_ADUL_LUG_NAC#f01_ADUL_TER_CIUD#f01_ADUL_G_GEN#f01_ADUL_TER_MACRO#f01_ADUL_TER_ZONA#f01_ADUL_DIR#f01_ADUL_TER_TEL#f01_ADUL_G_TELF#f01_ADUL_ANVERSO_G_ARCH#f01_ADUL_REVERSO_G_ARCH');
                                                         elem4.parentElement.removeChild(elem4);


                                                        console.log("var elem4",elem4)

                                                            if (results[0].dtspsl_file_fotocopia_ci != "") {
                                                                 console.log("si hay imagen",anverso);

                                                                document.getElementById('l_'+consultas[13]).value = results[0].dtspsl_file_fotocopia_ci;
                                                                tip2.disabled=true;
                                                                console.log("anverso y reversoooo",anverso, reverso);
                                                                 var tip6 = document.createElement("img");
                                                                tip6.id = matriz[13];
                                                                tip6.src = "http://192.168.5.141/rest/files/RC_CLI/"+oid_rc+"/"+anverso+"?app_name=todoangular";
                                                                tip6.width = "100";
                                                                tip6.height = "100";
                                                                tip3.appendChild(tip6);
                                                                console.log("ANVERSO tip5.id;",tip6.id);
                                                                console.log("----tip3;",tip3.appendChild(tip6));
                                                               document.getElementById('l_f01_NNA_ANVERSO_G_ARCH').style='block';

                                                                //document.getElementById("f01_NNA_ANVERSO_G_ARCH").disabled = true;

                                                            }else{tip2.disabled=false;}
                                                  }
                                                  /*else{
                                                    if (results[0].dtspsl_file_fotocopia_ci != "") {
                                                        console.log("si hay imagen",anverso);

                                                         document.getElementById('l_'+consultas[13]).value = results[0].dtspsl_file_fotocopia_ci;
                                                         console.log("anverso y reversoooo",anverso, reverso);
                                                         var tip6 = document.createElement("img");
                                                         tip6.id = matriz[13];
                                                         //tip5.src = "http://192.168.5.141/rest/files/undefined/           undefined/"+anverso+"?app_name=todoangular";
                                                         tip6.src = "http://192.168.5.141/rest/files/RC_CLI/"+oid_rc+"/"+anverso+"?app_name=todoangular";
                                                         tip6.width = "100";
                                                         tip6.height = "100";
                                                         tip3.appendChild(tip6);
                                                         console.log("ANVERSO tip5.id;",tip6.id);
                                                         console.log("----tip3;",tip3.appendChild(tip6));

                                                         }
                                                  }*/;
                                                ////////////////PARA OBTENER ANVERSO NIÑOS///////////////
                                                  var elem2 = document.getElementById('f01_NNA_EXP_CIUD#f01_NNA_G_NOM#f01_NNA_G_APAT#f01_NNA_G_AMAT#f01_NNA_G_FEC_NAC#f01_NNA_G_LUG_NAC#f01_NNA_G_CIUD#f01_NNA_G_GEN#f01_NNA_TER_MACRO#f01_NNA_TER_ZONA#f01_NNA_DIR#f01_NNA_TER_TEL#f01_NNA_G_TELF#f01_NNA_ANVERSO_G_ARCH#f01_NNA_REVERSO_G_ARCH');
                                                 // var elem_anv =document.getElementById('l_f01_NNA_ANVERSO_G_ARCH');
                                                  //console.log("elem_anv",elem_anv);
                                                    if (elem2 != null) {
                                                        console.log("existe contenedor de imagen");
                                                        var elem2 = document.getElementById('f01_NNA_EXP_CIUD#f01_NNA_G_NOM#f01_NNA_G_APAT#f01_NNA_G_AMAT#f01_NNA_G_FEC_NAC#f01_NNA_G_LUG_NAC#f01_NNA_G_CIUD#f01_NNA_G_GEN#f01_NNA_TER_MACRO#f01_NNA_TER_ZONA#f01_NNA_DIR#f01_NNA_TER_TEL#f01_NNA_G_TELF#f01_NNA_ANVERSO_G_ARCH#f01_NNA_REVERSO_G_ARCH');
                                                         elem2.parentElement.removeChild(elem2);


                                                        console.log("var elm2",elem2)

                                                            if (results[0].dtspsl_file_fotocopia_ci != "") {
                                                                 console.log("si hay imagen",anverso);

                                                                document.getElementById('l_'+consultas[13]).value = results[0].dtspsl_file_fotocopia_ci;
                                                                tip2.disabled=true;
                                                                console.log("anverso y reversoooo",anverso, reverso);
                                                                 var tip5 = document.createElement("img");
                                                                tip5.id = matriz[13];
                                                                tip5.src = "http://192.168.5.141/rest/files/RC_CLI/"+oid_rc+"/"+anverso+"?app_name=todoangular";
                                                                tip5.width = "100";
                                                                tip5.height = "100";
                                                                tip3.appendChild(tip5);
                                                                console.log("ANVERSO tip5.id;",tip5.id);
                                                                console.log("----tip3;",tip3.appendChild(tip5));
                                                               document.getElementById('l_f01_NNA_ANVERSO_G_ARCH').style='block';
                                                               

                                                            }else{tip2.disabled=false;}
                                                  }
                                                  else{
                                                    if (results[0].dtspsl_file_fotocopia_ci != "") {
                                                        console.log("si hay imagen",anverso);

                                                         document.getElementById('l_'+consultas[13]).value = results[0].dtspsl_file_fotocopia_ci;
                                                         tip2.disabled=true;
                                                         console.log("anverso y reversoooo",anverso, reverso);
                                                         var tip5 = document.createElement("img");
                                                         tip5.id = matriz[13];
                                                         //tip5.src = "http://192.168.5.141/rest/files/undefined/           undefined/"+anverso+"?app_name=todoangular";
                                                         tip5.src = "http://192.168.5.141/rest/files/RC_CLI/"+oid_rc+"/"+anverso+"?app_name=todoangular";
                                                         tip5.width = "100";
                                                         tip5.height = "100";
                                                         tip3.appendChild(tip5);
                                                         console.log("ANVERSO tip5.id;",tip5.id);
                                                         console.log("----tip3;",tip3.appendChild(tip5));

                                                         }else{tip2.disabled=false;}
                                                  };

                                                  ////////////////PARA OBTENER REVERSO///////////////

                                                    var elem9 = document.getElementById('l_f01_NNA_REVERSO_G_ARCH');
                                                  var elem5 = document.getElementById('Exp.');
                                                  console.log("varelem5",elem5);
                                                  if (elem5 != null) {
                                                        console.log("existe contenedor de imagen");
                                                        var elem5 = document.getElementById('Exp.');
                                                        elem5.parentElement.removeChild(elem5);
                                                        console.log("var elm2",elem5);
                                                        if (results[0].dtspsl_file_fotocopia_ci_r != "") {
                                                                document.getElementById('l_'+consultas[14]).value = results[0].dtspsl_file_fotocopia_ci_r;
                                                                tip_2.disabled=true;
                                                                //var hhh =document.createElement("br");
                                                                console.log("anvvvvv",anverso, reverso);
                                                                var tip5 = document.createElement("img");
                                                                tip5.id = matriz[14];
                                                                //tip5.src = "http://192.168.5.141/rest/files/undefined/undefined/"+reverso+"?app_name=todoangular";
                                                                tip5.src = "http://192.168.5.141/rest/files/RC_CLI/"+oid_rc+"/"+reverso+"?app_name=todoangular";
                                                                tip5.width = "100";
                                                                tip5.height = "100";
                                                               // hhh.appendChild(tip5);
                                                                tip_3.appendChild(tip5);
                                                                console.log("-----",tip_3);
                                                                console.log("REVERSO tip5.id ",tip5.id);
                                                               // $("l_f01_NNA_REVERSO_G_ARCH").prop('disabled', true);
                                                               // document.getElementById('l_f01_NNA_REVERSO_G_ARCH').disabled=true;
                                                               // var campo_rev = document.getElementById('l_f01_NNA_REVERSO_G_ARCH');
                                                               // campo.readOnly = true; // Se añade el atributo
                                                               // campo_rev.readOnly = false; // Se quita el atributo
                                                                //tip_3.parentElement.removeChild(campo_rev);
                                                               // var elem9 = document.getElementById('l_f01_NNA_REVERSO_G_ARCH');
                                                               // elem9.parentElement.removeChild(elem9);
                                                        }else{tip_2.disabled=false;                                                                    ;
                                                            tip5.appendChild(br);
                                                            var br = document.createElement('br');
                                                            tip5.appendChild(br);
                                                            var br = document.createElement('br');
                                                            body.appendChild(br);
                                                            var br = document.createElement('br');
                                                            body.appendChild(br);}
                                                }else{

                                                    if (results[0].dtspsl_file_fotocopia_ci_r != "") {
                                                            document.getElementById('l_'+consultas[14]).value = results[0].dtspsl_file_fotocopia_ci_r;
                                                            tip_2.disabled=true;
                                                            var hhh=document.createElement('br');

                                                            console.log("anvvvvv",anverso, reverso);
                                                            var tip5 = document.createElement("img");
                                                            tip5.id = matriz[14];
                                                            //tip5.src = "http://192.168.5.141/rest/files/undefined/undefined/"+reverso+"?app_name=todoangular";
                                                            tip5.src = "http://192.168.5.141/rest/files/RC_CLI/"+oid_rc+"/"+reverso+"?app_name=todoangular";
                                                            tip5.width = "100";
                                                            tip5.height = "100";
                                                           // tip5.appendChild(document.createElement("br"));
                                                            //hhh.appendChild(tip5);
                                                            tip_3.appendChild(tip5);
                                                            console.log("-----",tip_3);
                                                           console.log("REVERSO tip5.id ",tip5.id);
                                                          // $("l_f01_NNA_REVERSO_G_ARCH").prop('disabled', true);

                                                        }
                                                        else{tip_2.disabled=false;
                                                            tip5.appendChild(br);
                                                            var br = document.createElement('br');
                                                            tip5.appendChild(br);
                                                            var br = document.createElement('br');
                                                            body.appendChild(br);
                                                            var br = document.createElement('br');
                                                            body.appendChild(br);
                                                        }
                                              };

                                              ////////////////FIN OBTENER IMAGENES DE ANVERSO Y REVERSO///////////////
                                            }else{
                                                
                                                existe = 0;
                                                sweetAlert('', 'Ciudadano No Existente', 'error');

                                        
                                                document.getElementById(consultas[0]).value = "";
                                                document.getElementById(consultas[1]).value = "";
                                                document.getElementById(consultas[2]).value = "";
                                                document.getElementById(consultas[3]).value = "";
                                                document.getElementById(consultas[4]).value = "";
                                                document.getElementById(consultas[5]).value = "";
                                                document.getElementById(consultas[6]).value = "";
                                                document.getElementById(consultas[7]).value = "";
                                                document.getElementById(consultas[8]).value = "";
                                                document.getElementById(consultas[9]).value = "";
                                                document.getElementById(consultas[10]).value = "";
                                                document.getElementById(consultas[11]).value = "";
                                                document.getElementById(consultas[12]).value = "";
                                                document.getElementById('l_'+consultas[13]).value = "";
                                                document.getElementById('l_'+consultas[14]).value = "";
                                                 /*var elem4 = document.getElementById('f01_ADUL_EXP_CIUD#f01_ADUL_G_NOM#f01_ADUL_G_APAT#f01_ADUL_G_AMAT#f01_ADUL_G_FEC_NAC#f01_ADUL_LUG_NAC#f01_ADUL_TER_CIUD#f01_ADUL_G_GEN#f01_ADUL_TER_MACRO#f01_ADUL_TER_ZONA#f01_ADUL_DIR#f01_ADUL_TER_TEL#f01_ADUL_G_TELF#f01_ADUL_ANVERSO_G_ARCH#f01_ADUL_REVERSO_G_ARCH');
                                                elem4.parentElement.removeChild(elem4);
                                                var elem2 = document.getElementById('f01_NNA_EXP_CIUD#f01_NNA_G_NOM#f01_NNA_G_APAT#f01_NNA_G_AMAT#f01_NNA_G_FEC_NAC#f01_NNA_G_LUG_NAC#f01_NNA_G_CIUD#f01_NNA_G_GEN#f01_NNA_TER_MACRO#f01_NNA_TER_ZONA#f01_NNA_DIR#f01_NNA_TER_TEL#f01_NNA_G_TELF#f01_NNA_ANVERSO_G_ARCH#f01_NNA_REVERSO_G_ARCH');
                                                elem2.parentElement.removeChild(elem2);
                                                var elem5 = document.getElementById('Exp.');
                                                elem5.parentElement.removeChild(elem5);*/

                                            }
                                        });
                                    }
                                    else{
                                        document.getElementById(consultas[0]).value = "";
                                        document.getElementById(consultas[1]).value = "";
                                        document.getElementById(consultas[2]).value = "";
                                        document.getElementById(consultas[3]).value = "";
                                        document.getElementById(consultas[4]).value = "";
                                        document.getElementById(consultas[5]).value = "";
                                        document.getElementById(consultas[6]).value = "";
                                        document.getElementById(consultas[7]).value = "";
                                        document.getElementById(consultas[8]).value = "";
                                        document.getElementById(consultas[9]).value = "";
                                        document.getElementById(consultas[10]).value = "";
                                        document.getElementById(consultas[11]).value = "";
                                        document.getElementById(consultas[12]).value = "";
                                        document.getElementById('l_'+consultas[13]).value = "";
                                        document.getElementById('l_'+consultas[14]).value = "";
                                    }
                                }

                            });
                        };
                    } else if(matriz[i+5] != '-'  && matriz[i+5]  != ""){
                        var consulta = matriz[i+6];
                        var dependiente = matriz[i+5];
                        var campo = matriz[i+1];
                        tip.onchange = function() {
                            var valorDependencia = document.getElementById(campo).value;
                            var xConsulta = consulta.replace("*",",");
                            xConsulta = xConsulta.replace("xId", valorDependencia);
                            angular.element(document.getElementById('formServiciosSemdes')).scope().datosComboRender(dependiente, xConsulta);
                        };
                    }
                }else if(matriz[i+2]=='NRO'){
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    tip.type = "number";
                    tip.step = "any";
                    tip.className = "form-control";
                    tip.value = document.getElementById(matriz[i+1]+k).value;
                }else if(matriz[i+2]=='SUM'){
                    editarCalculo = 1;
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    tip.className = "form-control";
                    tip.type = "number";
                    tip.step = "any";
                    tip.value = document.getElementById(matriz[i+1]+k).value;
                }else if(matriz[i+2]=='PROM'){
                    editarCalculo = 1;
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    tip.className = "form-control";
                    tip.type = "number";
                    tip.step = "any";
                    tip.value = document.getElementById(matriz[i+1]+k).value;
                }else if(matriz[i+2]=='CHK'){
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    tip.type = "checkbox";
                    if(document.getElementById(matriz[i+1]+k).value == 'SI'){
                        tip.checked = true;
                    } else{
                        tip.checked = false;
                    }
                }////////////////////////////////////////campoarc2
                    else if(matriz[i+2]=='ARC'){

                    tip = document.createElement("div");
                    tip.className = "custom-upload";
                    var tip2;
                    tip2 = document.createElement("input");
                    tip2.type = "file";
                    tip2.id = matriz[i+1];
                    tip2.setAttribute("accept", "image/*");

                   // tip2.disabled = true;///////////////////*********************
                    console.log("matriz[i+1]",matriz[i+1]);
                    console.log("tip2",tip2);
                    var campoArc2 = matriz[i+1];
                    //var w = document.getElementById('l_'+campoArc2).value;
                    tip2.onchange = function(){
                        console.log("tip2...",tip2);
                         //var campoArc = matriz[i+1];
                         var w = document.getElementById('l_'+campoArc2).value;
                         console.log("w",w);

                            if (w == undefined || w == '') {
                                console.log("PONER IMAGEN");

                            }else {console.log("no poner nada");}

                         console.log("campoArc2",campoArc2);
                        console.log("es la posicion",i);
                        console.log("soy la matriz ahora si",matriz)
                        console.log($(this).val(),"HOLAA",campoArc2,"  .  ",document.getElementById('l_'+campoArc2).value);
                        var a = $(this).val();
                        var z = a.split("\\");
                       
                        if (z[2] === undefined){
                            document.getElementById('l_'+campoArc2).value = a;
                        }
                        else{
                            document.getElementById('l_'+campoArc2).value = z[2];
                        }
                    }
                    tip.appendChild(tip2);
                    var tip3 = document.createElement("div");
                    tip3.className = "fake-file";
                    // tip3.disabled = true;///////////////////*********************
                    tip.appendChild(tip3);
                    var tip4 = document.createElement("input");
                    tip4.id = 'l_'+matriz[i+1];
                    tip4.type = 'text';
                    tip4.value = " ";

                    tip3.appendChild(tip4);

                }
                //
               // var br = document.createElement('br');
                   // tip.appendChild(br);

                 //////////////////////////////////////////////////////////////////////////////////////////*/
                else if(matriz[i+2]=='ARC1'){
                    tip = document.createElement("div");
                    tip.className = "custom-upload";
                    var tip_2;
                    tip_2 = document.createElement("input");
                    //tip2.disabled = true;
                   /* if (tip2 == undefined || tip2 == '') {
                        tip2.disabled = false;
                    }else{
                        tip2.disabled = true;
                    }
                    ;*/
                    tip
                    tip_2.type = "file";
                    tip_2.id = matriz[i+1];
                    tip_2.setAttribute("accept", "image/*");
                   // tip2.ng-show = true;///////////////////*********************
                    console.log("matriz[i+1]",matriz[i+1]);
                    console.log("tip_2",tip_2);
                    var campoArc = matriz[i+1];
                    tip_2.onchange = function(){
                        console.log("tip_2",tip_2);
                        var w = document.getElementById('l_'+campoArc).value;
                        //w.disabled = true;
                         console.log("w",w);

                            if (w == undefined || w == '') {
                                console.log("PONER IMAGEN",w);
                               //w.disabled = false;

                            }else {//w.disabled = true;
                                console.log("no poner nada",w);}
                         //var campoArc = matriz[i+1];
                         console.log("campoArc",campoArc);
                        console.log("es la posicion",i);
                        console.log("soy la matriz ahora si",matriz)
                        console.log($(this).val(),"HOLAA",campoArc,"  .  ",document.getElementById('l_'+campoArc).value);
                        var a = $(this).val();
                        var z = a.split("\\");
                        if (z[2] === undefined){
                            document.getElementById('l_'+campoArc).value = a;
                        }
                        else{
                            document.getElementById('l_'+campoArc).value = z[2];
                        }
                    }
                    tip.appendChild(tip_2);
                    var tip_3 = document.createElement("div");
                    tip_3.className = "fake-file";
                    tip.appendChild(tip_3);
                    var tip4 = document.createElement("input");
                    tip4.id = 'l_'+matriz[i+1];
                    tip4.type = 'text';
                    tip4.value = " ";

                    tip_3.appendChild(tip4);
                    //var br = document.createElement('br');
                   // tip.appendChild(br);

                }/////////////



                else if(combo[0]=='CBO') {
                    tip = document.createElement('select');
                    tip.id = matriz[i+1];
                    tip.className = "form-control";
                    filas = combo[1].split('#');
                    if(matriz[i+5] != '-'  && matriz[i+5]  != ""){
                        var cboConsulta = matriz[i+6];
                        cboConsulta = cboConsulta.replace("*",",");
                        var dependienteCbo = matriz[i+5];
                        var campoCbo = matriz[i+1];
                        var valorDependencia = document.getElementById(campoCbo+k+'_valor').value;
                        var xCboConsulta = cboConsulta.replace("*",",");
                        xCboConsulta = xCboConsulta.replace("xId", valorDependencia);
                        var valor = document.getElementById(dependienteCbo+k+'_valor').value;
                        setTimeout(function(){
                            angular.element(document.getElementById('formServiciosSemdes')).scope().datosComboRender(dependienteCbo, xCboConsulta); document.getElementById(dependienteCbo).value = valor; }, 1000);

                        tip.onchange = function() {
                            var valorDependencia = document.getElementById(campoCbo).value;
                            var mValorDependencia = valorDependencia.split('~');
                            var xCboConsulta = cboConsulta.replace("*",",");
                            xCboConsulta = xCboConsulta.replace("xId", mValorDependencia[0]);
                            angular.element(document.getElementById('formServiciosSemdes')).scope().datosComboRender(dependienteCbo, xCboConsulta);
                        };
                    }

                    tip.options[0] = new Option('--Seleccione--',' ');
                    for(var j = 0; j < filas.length ;j++){
                        columna= filas[j].split('|');
                        tip.options[j+1] = new Option(columna[1],columna[0]);
                    }
                    if(filas.length<=1)
                    {
                        var seleccion =document.getElementById(matriz[i+1]+k).value;
                        var opcion = seleccion.split("~");
                        tip.options[j] = new Option(opcion[1],document.getElementById(matriz[i+1]+k).value);
                    }
                    tip.value = document.getElementById(matriz[i+1]+k+'_valor').value;

                }else if(matriz[i+2]=='FEC'){
                    tip = document.createElement("input");
                    tip.id = matriz[i+1];
                    tip.type = "date";
                    tip.className = "form-control";
                    tip.value = document.getElementById(matriz[i+1]+k).value;
                }
            }
            if(matriz[i+4] == 'obligatorio'){
                requerido = 1;
                tip.required = true;
                obligatori = obligatori+'#'+matriz[i+1];
            }
            div2.appendChild(tip);
        }
        var footer = document.createElement('div');
        footer.className = 'modal-footer';
        footer.innerText = '  ';
        content.appendChild(footer);
        var addBtn = document.createElement('button');
        addBtn.onclick = function () {
             if(requerido == 1){
                obligatorios = obligatori.split('#');
                for(var i = 1;i<obligatorios.length;i++){
                    if(document.getElementById(obligatorios[i]).value != ""){
                       obligatorio = 0;
                    }
                    else{
                        obligatorio = 1;
                        break;
                    }
                }
            }else{
                obligatorio = 0;
            }
            //validacion de AÑO
                if (document.getElementById(consultas[4]).value) {

                var val_ano=1;
                var fecnac = new Date(document.getElementById(consultas[4]).value);
                var mes = fecnac.getMonth() + 1;
                if(fecnac.getMonth()<9){
                    mes = "0"+ mes;
                }
                var dia =fecnac.getDate() + 1;
                if(dia<10){
                    dia = "0"+ dia;
                }
                fecnac = fecnac.getFullYear()+"-"+mes+"-"+dia;
                //var ano
                var ano = fecnac.split("-");
                console.log("año",ano[0]);
                console.log("año",ano[0].length);


                if (ano[0].length==4){
                   obligatorio = 0;
                   console.log("0",obligatorio);
                }else{
                    obligatorio = 1;
                    console.log("1",obligatorio);
                }
                }else{
                val_ano=0;
                }

                //FIN VALIDAR AÑO
            if(obligatorio == 0){
                var jsonSting="{";
                var j = 0;
                if( editarCalculo != 0){
                    var sum = document.getElementById(nombre+'_CAL').value.split(",").map(parseFloat);
                    var count = parseInt(document.getElementById(nombre+'_CONT').value);
                }
                for(var i = 0 ; i <= matriz.length-7 ;i=i+7){
                    j++;
                }
                for(var i = 0 ; i <= matriz.length-7 ;i=i+7){
                    j--;
                    try{
                        var componente = matriz[i+2].split(':');
                        if( componente[0] == 'CHK'){
                            if(document.getElementById(matriz[i+1]).checked){
                                jsonSting=jsonSting+'"'+matriz[i+1]+'":"SI",';
                                document.getElementById(matriz[i+1]+k).value = 'SI';
                            }
                            else {
                                jsonSting=jsonSting+'"'+matriz[i+1]+'":"NO",';
                                document.getElementById(matriz[i+1]+k).value = 'NO';
                            }
                        }
                        else if(componente[0] == 'SPAN'){
                            jsonSting=jsonSting+'"'+matriz[i+1]+'":"'+document.getElementById(matriz[i+1]).innerText+'",';
                        }
                        if(componente[0] == 'ARC'){//desde aqui para el boton  de adjunto
                        var fArchivo = document.getElementById(matriz[i+1]);
                        console.log("fArchivo",fArchivo);
                        if(fArchivo.value == ""){
                            var newlink = document.createElement('div');
                            var currenttext = document.createElement('div');
                            var ci_solicitante = localStorage.getItem('CI');

                            if (results.length > 0) {
                                
                            //   http://192.168.5.141/rest/files/SCANNER/8310852/logggg.png?app_name=todoangular
                            var iiimmmg = "http://192.168.5.141/rest/files/RC_CLI/"+results[0]._id+"/"+results[0].dtspsl_file_fotocopia_ci+"?app_name=todoangular";
                            currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+iiimmmg+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\''+iiimmmg+'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+results[0].dtspsl_file_fotocopia_ci+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';
                        }
                            else{
                                
                                currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",'
                            };
                            //currenttext.innerHTML = '<div class = "col-md-12"><button  value = "0"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(0);"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="0" readonly="readonly"></div></td>';
                            //jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';
                        } else{
                            var url = angular.element(document.getElementById("formServiciosSemdes")).scope().guardarArchivo(fArchivo);
                            console.log('ULR 1',url);
                            var ci_solicitante = localStorage.getItem('CI');
                            var a = url.split('"')
                            console.log("variable a",a);
                            var newlink = document.createElement('div');
                            var currenttext = document.createElement('div');
                            var b = a[4].split("/");
                            console.log("variab a[4]",a[4]);
                            console.log("variable B",b);
                            b = b[7].split("?");
                            console.log("variable B de b7",b);
                            if (results.length > 0) {
                               
                            var iiimmmg = "http://192.168.5.141/rest/files/SCANNER/"+ci_solicitante+"/"+b[0]+"?app_name=todoangular";
                           // alert(iiimmmg);
                            currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+iiimmmg+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\''+iiimmmg+'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+results[0].dtspsl_file_fotocopia_ci+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';}
                            else{
                                
                                currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",'
                            };
                            //currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                           // jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",';
                        }//hasta aqui para el boton  de adjunto
                         }

                    else if(componente[0] == 'ARC1'){//desde aqui para el boton  de adjunto
                        var fArchivo = document.getElementById(matriz[i+1]);
                        console.log("fArchivo",fArchivo);
                        var ci_solicitante = localStorage.getItem('CI');

                        if(fArchivo.value == ""){
                            var newlink = document.createElement('div');
                            var currenttext = document.createElement('div');
                            if (results.length > 0) {
                            var iiimmmg1 = "http://192.168.5.141/rest/files/RC_CLI/"+results[0]._id+"/"+results[0].dtspsl_file_fotocopia_ci_r+"?app_name=todoangular";
                            currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+iiimmmg1+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\''+iiimmmg1+'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+results[0].dtspsl_file_fotocopia_ci_r+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';}
                            else{
                                currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",'
                            };
                            //currenttext.innerHTML = '<div class = "col-md-12"><button  value = "0"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(0);"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="0" readonly="readonly"></div></td>';
                            //jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';
                        } else{
                            var url = angular.element(document.getElementById("formServiciosSemdes")).scope().guardarArchivo(fArchivo);
                            console.log('ULR 1',url);
                            var a = url.split('"')
                            console.log("variable a",a);
                            var newlink = document.createElement('div');
                            var currenttext = document.createElement('div');
                            var b = a[4].split("/");
                            console.log("variab a[4]",a[4]);
                            console.log("variable B",b);
                            b = b[7].split("?");
                            console.log("variable B de b7",b);
                            if (results.length > 0) {
                            var iiimmmg1 = "http://192.168.5.141/rest/files/SCANNER/"+ci_solicitante+"/"+b[0]+"?app_name=todoangular";
                            currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+iiimmmg1+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\''+iiimmmg1+'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+results[0].dtspsl_file_fotocopia_ci_r+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"0",';}
                            else{
                                currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",'
                            };
                            //currenttext.innerHTML = '<div class = "col-md-12"><button  value = "'+a[4]+'"  id="'+matriz[i+1]+(rowCount)+'" class = "btn btn-default btn-circle" onclick = "verImagen(\'' + a[4] +'\');"><i class = "fa fa-eye" style="color:#249FE6"></i></button><input style="border: none;" id="l_'+ matriz[i+1]+(rowCount)+'" value="'+b[0]+'" readonly="readonly"></div></td>';
                           // jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+a[4]+'",';
                        }//hasta aqui para el boton  de adjunto










                        }   




                        else if(componente[0] == 'CBO'){
                            var selected = document.getElementById(matriz[i+1]);
                            jsonSting = jsonSting+'"'+matriz[i+1]+'_valor":"'+document.getElementById(matriz[i+1]).value+'",';
                            jsonSting = jsonSting+'"'+matriz[i+1]+'":"'+selected.options[selected.selectedIndex].text+'",';
                            document.getElementById(matriz[i+1]+k+'_valor').value = document.getElementById(matriz[i+1]).value;
                            document.getElementById(matriz[i+1]+k).value = selected.options[selected.selectedIndex].text;
                        }else if(componente[0] == 'SUM'){
                            sum[j] = sum[j] - parseFloat(document.getElementById(matriz[i+1]+k).value) + parseFloat(document.getElementById(matriz[i+1]).value);
                            document.getElementById(matriz[i+1]+k).value = document.getElementById(matriz[i+1]).value;
                            jsonSting=jsonSting+'"'+matriz[i+1]+'":"'+document.getElementById(matriz[i+1]).value+'",';
                        }else if(componente[0] == 'PROM'){
                            sum[j] = sum[j] - parseFloat(document.getElementById(matriz[i+1]+k).value) + parseFloat(document.getElementById(matriz[i+1]).value);
                            document.getElementById(matriz[i+1]+k).value = document.getElementById(matriz[i+1]).value;
                            jsonSting=jsonSting+'"'+matriz[i+1]+'":"'+document.getElementById(matriz[i+1]).value+'",';
                        }else {
                            document.getElementById(matriz[i+1]+k).value = document.getElementById(matriz[i+1]).value;
                            jsonSting=jsonSting+'"'+matriz[i+1]+'":"'+document.getElementById(matriz[i+1]).value+'",';
                        }
                    }catch(e){}
                }
                jsonSting = jsonSting.substring(0,jsonSting.length-1);
                jsonSting = jsonSting + "}";
                updRowJson(jsonSting, nombre,k);
                if(editarCalculo != 0){
                    document.getElementById(nombre+'_CAL').value = sum;
                    datos = JSON.parse(document.getElementById(nombre).value);
                    delete datos[rowCount];
                    var nuevosDatos=[];
                    nuevosDatos = JSON.stringify(datos);
                    document.getElementById(nombre).value = nuevosDatos;
                    cambiarDisplay(nombre+'_row'+ rowCount);
                    var rowCount1 = table.rows.length;
                    var row1 = table.insertRow(rowCount1);
                    row1.id=nombre+"_row"+(rowCount1);
                    var newdiv = document.createElement('td');
                    var jsonSting="{";
                    var j = 0;
                    for(var i = matriz.length-7; i >=0 ;i=i-7){
                        cell2 = row1.insertCell(0);
                        cell2.id="c_"+matriz[i+1]+(rowCount1);
                        var componente = matriz[i+2].split(':');
                        if(componente[0] == 'PROM'){
                            var currenttext = document.createElement("input");
                            currenttext.id = matriz[i+1]+(rowCount1);
                            currenttext.type = "text";
                            currenttext.disabled = "true";
                            currenttext.readonly = "readonly";
                            currenttext.className = "form-control";
                            var prom = sum[j]/count;
                            jsonSting=jsonSting+'"'+matriz[i+1]+'":"'+prom+'",';
                            currenttext.value = prom;
                        }else if(componente[0] == 'SUM'){
                            var currenttext = document.createElement("input");
                            currenttext.id = matriz[i+1]+(rowCount);
                            currenttext.type = "text";
                            currenttext.disabled = "true";
                            currenttext.readonly = "readonly";
                            currenttext.className = "form-control";
                            jsonSting=jsonSting+'"'+matriz[i+1]+'":"'+sum[j]+'",';
                            currenttext.value = sum[j];
                        }
                        else {
                            jsonSting=jsonSting+'"'+matriz[i+1]+'":" ",';
                            var currenttext = document.createElement("input");
                            currenttext.id = matriz[i+1]+(rowCount);
                            currenttext.type = "text";
                            currenttext.disabled = "true";
                            currenttext.readonly = "readonly";
                            currenttext.className = "form-control";
                            currenttext.value = " ";
                        }
                        cell2.appendChild(currenttext);
                        j++;
                    }
                    newdiv.innerHTML = '<div></div></td>';
                    newdiv.id="c_btn_"+row1.id;
                    cell2 = row1.insertCell(0);
                    cell2.appendChild(newdiv);
                    jsonSting = jsonSting.substring(0,jsonSting.length-1);
                    jsonSting = jsonSting + "}";
                    addRowJson(jsonSting,nombre);
                }
                if(form_rc==1 && tipodoc == 'CI'){
                    if(existe == 1){
                        var modificarCiudadano = new rcNatural();
                        modificarCiudadano.oid = results[0]._id;
                        modificarCiudadano.nombre = document.getElementById(consultas[1]).value;
                        modificarCiudadano.paterno = document.getElementById(consultas[2]).value;
                        modificarCiudadano.materno = document.getElementById(consultas[3]).value;
                        modificarCiudadano.tercer_apellido = results[0].dtspsl_tercer_apellido;
                        modificarCiudadano.ci = ciciudadano;
                        modificarCiudadano.complemento = results[0].dtspsl_complemento;
                        modificarCiudadano.expedido = document.getElementById(consultas[0]).value;
                        var fecnac = new Date(document.getElementById(consultas[4]).value);
                        var mes = fecnac.getMonth() + 1;
                        if(fecnac.getMonth()<9){
                            mes = "0"+ mes;
                        }
                        var dia =fecnac.getDate() + 2;
                        if(dia < 9){
                            dia = "0"+ dia;
                        }
                        fecnac = fecnac.getFullYear()+"-"+mes+"-"+dia;
                        modificarCiudadano.fec_nacimiento = fecnac;
                        modificarCiudadano.lugar_nacimiento = document.getElementById(consultas[5]).value;
                        modificarCiudadano.pais_origen = results[0].dtspsl_pais;
                        modificarCiudadano.sexo = document.getElementById(consultas[7]).value;
                        if(results[0].dtspsl_id_estado_civil)
                            modificarCiudadano.id_estado_civil = results[0].dtspsl_id_estado_civil;
                        else
                            modificarCiudadano.id_estado_civil = " ";
                        if(results[0].dtspsl_profesion)
                            modificarCiudadano.profesion = results[0].dtspsl_profesion;
                        else
                            modificarCiudadano.profesion = " ";
                        modificarCiudadano.otra_profesion = results[0].dtspsl_otra_profesion;
                        modificarCiudadano.telefono = document.getElementById(consultas[11]).value
                        modificarCiudadano.movil = document.getElementById(consultas[12]).value
                        modificarCiudadano.correo = results[0].dtspsl_correo;
                        modificarCiudadano.direccion = document.getElementById(consultas[10]).value;
                        modificarCiudadano.pais = results[0].dtspsl_pais;
                        modificarCiudadano.departamento = document.getElementById(consultas[6]).value;
                        modificarCiudadano.provincia = results[0].dtspsl_provincia;
                        modificarCiudadano.municipio = results[0].dtspsl_municipio;
                        modificarCiudadano.macrodistrito = document.getElementById(consultas[8]).value;
                        modificarCiudadano.macrodistrito_desc = results[0].dtspsl_macrodistrito_desc;
                        modificarCiudadano.distrito = results[0].dtspsl_distrito;
                        modificarCiudadano.distrito_desc = results[0].dtspsl_distrito_desc;
                        modificarCiudadano.zona = document.getElementById(consultas[9]).value;
                        modificarCiudadano.zona_desc = results[0].dtspsl_zona_desc;
                        modificarCiudadano.tipo_via = results[0].dtspsl_tipo_via;
                        modificarCiudadano.nombre_via = results[0].dtspsl_nombre_via;
                        modificarCiudadano.numero_casa = results[0].dtspsl_numero_casa;
                        modificarCiudadano.edificio = results[0].dtspsl_edificio;
                        modificarCiudadano.bloque = results[0].dtspsl_bloque;
                        modificarCiudadano.piso = results[0].dtspsl_piso;
                        modificarCiudadano.oficina = results[0].dtspsl_oficina;
                        modificarCiudadano.latitud = results[0].dtspsl_latitud;
                        modificarCiudadano.longitud = results[0].dtspsl_longitud;
                        modificarCiudadano.usr_id = results[0].dtspsl_id;
                        modificarCiudadano.activacionf = results[0].dtspsl_activacionf;
                        modificarCiudadano.activaciond = results[0].dtspsl_activaciond;
                        modificarCiudadano.file_fotocopia_ci = document.getElementById('l_'+consultas[13]).value;
                        modificarCiudadano.file_fotocopia_ci_r = document.getElementById('l_'+consultas[14]).value;
                        modificarCiudadano.fec_vencimiento = results[0].dtspsl_fec_vencimiento;
                        modificarCiudadano.file_factura_luz = results[0].dtspsl_file_factura_luz;
                        if(results[0].dtspsl_URL)
                            modificarCiudadano.URL = results[0].dtspsl_URL;
                        else
                            modificarCiudadano.URL = " ";
                       /* modificarCiudadano.modificarNatural(function(resultado){
                            resultadoApi = JSON.parse(resultado);
                            if( typeof(resultadoApi.success) != 'undefined')
                            {
                                console.log("MODIFICACION CORRECTA");
                            }
                            else
                            {
                                console.log(resultadoApi);
                            }
                        });*/
                    }
                    else{
                        var registrarCiudadano = new rcNatural();
                        registrarCiudadano.ci = ciciudadano;
                        registrarCiudadano.complemento = cicomplemento;
                        registrarCiudadano.nombre = document.getElementById(consultas[1]).value;
                        registrarCiudadano.paterno = document.getElementById(consultas[2]).value;
                        registrarCiudadano.materno = document.getElementById(consultas[3]).value;
                        registrarCiudadano.tercer_apellido = " ";
                        registrarCiudadano.expedido = document.getElementById(consultas[0]).value;
                        var fecnac = new Date(document.getElementById(consultas[4]).value);
                        var mes = fecnac.getMonth() + 1;
                        if(fecnac.getMonth()<9){
                            mes = "0"+ mes;
                        }
                        var dia =fecnac.getDate() + 2;
                        if(dia<10){
                            dia = "0"+ dia;
                        }
                        fecnac = fecnac.getFullYear()+"-"+mes+"-"+dia;
                        registrarCiudadano.fec_nacimiento = fecnac;
                        registrarCiudadano.lugar_nacimiento = document.getElementById(consultas[5]).value;
                        registrarCiudadano.pais_origen = " ";
                        registrarCiudadano.sexo = document.getElementById(consultas[7]).value;
                        registrarCiudadano.id_estado_civil = "S";
                        registrarCiudadano.profesion = "50";
                        registrarCiudadano.otra_profesion = " ";
                        registrarCiudadano.telefono = document.getElementById(consultas[11]).value;
                        registrarCiudadano.movil = document.getElementById(consultas[12]).value;
                        registrarCiudadano.correo = " ";
                        registrarCiudadano.direccion = document.getElementById(consultas[10]).value;
                        registrarCiudadano.usr_id = "0";
                        registrarCiudadano.crearNatural(function(resultado){
                            resultadoApi = JSON.parse(resultado);
                            if( typeof(resultadoApi.success) != 'undefined')
                            {
                                console.log("REGISTRO CORRECTO");
                            }
                            else
                            {
                                console.log(resultadoApi);
                            }
                        });
                    }
                }
                $("#myModalMary").modal('hide');
          }else{
                console.log(val_ano);
                if (val_ano == 1 && obligatorio == 1) {
                    sweetAlert('','Ingrese una fecha valida','error');
                }else{
                sweetAlert('','Complete Todos Los Datos correctamente','error');
                }
            }
        }
        addBtn.setAttribute("type", "button");
        addBtn.className = 'btn btn-primary btn-inverse';
        addBtn.innerText = 'Guardar';
        footer.appendChild(addBtn);
        var closeBtn = document.createElement('button');
        closeBtn.setAttribute("data-dismiss", "modal");
        closeBtn.setAttribute("type", "button");
        closeBtn.className = 'btn btn-primary btn-inverse';
        closeBtn.innerText = 'Cerrar';
        footer.appendChild(closeBtn);
        $("#myModalMary").modal('show');
    }
    function eliminarTabla(id, campo,cadena){
        var eliminarcalc = 0;
        var cantidad = 0;
        datos = JSON.parse(document.getElementById(campo).value);
        if(cadena != undefined){
            var matriz = cadena.split(',');
            var log = [];
            angular.forEach(datos[id], function(value, key) {
                cantidad++;
                for(var i = 0 ; i <= matriz.length-7 ;i=i+7){
                    var componente = matriz[i+2].split(':');
                    if(componente[0] == 'SUM' ){
                        eliminarcalc = 1;
                    }else if( componente[0] == 'PROM'){
                        eliminarcalc = 1;
                    }
                }
            }, log);
        }
        datos = JSON.parse(document.getElementById(campo).value);
        delete datos[id];
        var nuevosDatos=[];
        nuevosDatos = JSON.stringify(datos);
        nuevosDatos=nuevosDatos.replace("null,","");
        nuevosDatos=nuevosDatos.replace(",null","");
        nuevosDatos=nuevosDatos.replace("null","");
        document.getElementById(campo).innerText = nuevosDatos;
        cambiarDisplay(campo+'_row'+ id);
    }
    function updRowJson(fila, campo,id){
        nuevaFila= JSON.parse(fila);
        datos = JSON.parse(document.getElementById(campo).value);
        var nuevosDatos=[];
        var snuevosDatos="";
        for(var i=0;i<datos.length;i++){
            if(i==id) nuevosDatos.push(nuevaFila);
            else        nuevosDatos.push(datos[i]);
        }
        snuevosDatos = JSON.stringify(nuevosDatos,null);
        document.getElementById(campo).value = snuevosDatos;
    }
    function addRowJson(fila, campo){
        nuevaFila= JSON.parse(fila);
        datos = JSON.parse(document.getElementById(campo).value);
        datos.push(nuevaFila);
        var nuevosDatos=[];
        nuevosDatos = JSON.stringify(datos,null);
        document.getElementById(campo).innerText = nuevosDatos;
    }

    function cambiarDisplay(id) {
      if (!document.getElementById) return false;
      fila = document.getElementById(id);
      if (fila.style.display != "none") {
        fila.style.display = "none";
      } else {
        fila.style.display = "";
      }
    }
    function f_obtener_valor(id){
        if (document.getElementById){
            var val = document.getElementById(id).value;
            return val;
        }
    }
    function f_obtener_texto(id){
        var combo = document.getElementById(id);
        var selected = combo.options[combo.selectedIndex].text;
        document.getElementById(id+'_VALOR').value = selected;
    }
    function f_validar_numero(id){
        var combo = document.getElementById(id);
        var selected = combo.options[combo.selectedIndex].text;
        document.getElementById(id+'_VALOR').value = selected;
    }
</script>

<script type="text/javascript">
    function soloNumericoCelular(sValor){
        Numer=parseInt(sValor);
        if (isNaN(Numer)){
            return "";
        }else{
            var digits = ("" + Numer).split("");
            if(digits.length > 0 && (digits[0] == 7 || digits[0] == 6)){
                return Numer;
            }else{
                return "";
            }
        }
    }
    function valNumeroCelular(Control){
        Control.value = soloNumericoCelular(Control.value);
    }
    //VALORES NUMERICOS
    function soloNumerico(variable){
        Numer=parseInt(variable);
        if (isNaN(Numer)){
                return "";
        }
        return Numer;
    }

    function valNumero(Control){
        Control.value=soloNumerico(Control.value);
        verificar(Control.value)
    }


    function verificarnronn(){
        tipo = f_obtener_valor('NNA_CANT_FEM');
        if(tipo == '')
            tipo = 0;
        tipo2 = f_obtener_valor('NNA_CANT_MAS');
        if(tipo2=='')
            tipo2=0;
        resultado = parseInt(tipo)+parseInt(tipo2);
        document.getElementById('NNA_CANT_NN').value = resultado;
    }

    function verificarnroa(){
        tipo = f_obtener_valor('NNA_CAN_MAS');
        if(tipo == '')
            tipo = 0;
        tipo2 = f_obtener_valor('NNA_CAN_FEM');
        if(tipo2=='')
            tipo2=0;
        resultado = parseInt(tipo)+parseInt(tipo2);
        document.getElementById('NNA_NRO_ADO').value = resultado;
    }

    function verificartotal(){
        tipo = f_obtener_valor('NNA_CANT_NN');
        if(tipo == '')
            tipo = 0;
        tipo2 = f_obtener_valor('NNA_NRO_ADO');
        if(tipo2=='')
            tipo2=0;
        resultado = parseInt(tipo)+parseInt(tipo2);
        document.getElementById('NNA_CANT_TOTAL').value = resultado;
    }
</script>
<!-- OCULTANDO COMBO TIPO DE PERSONA -->
<script type="text/javascript">
    var cboTipoCon = document.getElementById("tipo_contribuyente");
    if(cboTipoCon){
        cboTipoCon.style.display = 'none';
    }
</script>
<script>
    $(function () {
        $('#FECHAINICIO').fdatepicker({
            closeButton: true
        });
        $('#FECHAFIN').fdatepicker({
            closeButton: true
        });
    });

    $(function () {
    $(":file").change(function () {
        if (this.files && this.files[0]) {
            var reader = new FileReader();
            reader.onload = imageIsLoaded;
            reader.readAsDataURL(this.files[0]);
        }
    });
});

function imageIsLoaded(e) {
    $('#myImg').attr('src', e.target.result);
};

</script>




<div ng-controller="serviciosSemdesController" ng-init="inicioServicios();">
  <div class="ibox float-e-margins">
        <div class="ibox-title cafeSuave" style="border-bottom: solid 0px #E2E2E2 !important;">
            <h5>{{translateTitulos.lbl_018_01_1}}</h5><!--cambios-->
        </div>
        <div class="ibox-content">
            <form name="signupForm" class="form-horizontal" role="form" novalidate >
                <div ng-show = "formulario != null">

                    <div class="col-md-12"  >
                        <div class="col-md-8">
                            <div class="form-group" >
                                <label class=" col-sm-2 control-label"><font color="#FF0000" size="4px"> * </font> {{translateTitulos.lbl_018_01}}:</label>
                                <div class="col-sm-10">
                                    <select id="TER_TIP_PERMISO" class="form-control" name="TER_TIP_PERMISO" ng-model="datos.TER_TIP_PERMISO" ng-change="formTipoPermiso(datos.TER_TIP_PERMISO);" ng-disabled="desabilitado" required>
                                        <option style="display:none" value="">--Seleccionar--</option>
                                        <option value="1-F">FAMILIAR</option>
                                        <option value="5-D">DELEGACIÓN / COLEGIO</option> 


                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <a class="btn btn-primary" data-toggle="modal" tooltip = "Atender Caso" ng-click="TipoAutorizacion1(datos.TER_TIP_PERMISO);" ng-disabled="btnHelp1"  data-target="#guiatramite1">{{translateTitulos.lbl_018_02}}</a>
                        </div>

                    </div>
              
                    <div class="modal" id="guiatramite1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Cerrar</span></button>
                                    <h4 class="modal-title" id="myModalLabel">Ayuda para crear el caso</h4>
                                </div>
                                <div class="modal-body" >
                                    <div >
                                        <img src="{{ooooo}}" style="width: 100%; height: 100%" />
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="div_TER_TIP_SOL" name="componentes"  ng-show = "TER_TIP_PERMISO == 'R'">
                        <div class="form-group" >
                            <label class="col-sm-2 control-label">{{translateTitulos.lbl_018_2_1}}:</label>
                            <div class="col-sm-10">
                                <select id="TER_TIP_SOL" class="form-control" name="TER_TIP_SOL" ng-model="datos.TER_TIP_SOL" ng-disabled="desabilitado" ng-change="formTipoSolicitud(datos.TER_TIP_SOL);" required>
                                    <option value="1">{{translateTitulos.lbl_018_2_2}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
            
                    <div ng-show = "FALSE" >    <!-- ***"******  -->
                        <div id="div_G_CI" name="componentes" style="display: block;">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">{{transalateTitulos.lbl_018_2_3}}:</label>
                                <div class="col-sm-10">
                                    <input type="text" placeholder="Cédula de Identidad" class="form-control" id="G_CI" name="G_CI" onkeyup="return conMayusculas(this)" value="" ng-model="datos.G_CI" ng-blur="consultaRC_CI('NATURAL', datos.G_CI, '99', 1, textCambio);" ng-change="cambioTexto()"/>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                        </div>
                        <div id="div_G_NNA_NOM" name="componentes" style="display: block;">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">{{translateTitulos.lbl_018_2_4}}:</label>
                                <div class="col-sm-10">
                                    <input type="text" placeholder="Nombre responsable de la Solicitud" class="form-control" id="G_NNA_NOM" name="G_NNA_NOM" onkeyup="return conMayusculas(this)" value="" ng-model="datos.G_NNA_NOM" ng-disabled="opcion99"/>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                        </div>
                        <div id="div_G_NNA_PAT" name="componentes" style="display: block;">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">{{translateTitulos.lbl_018_19}}:</label>
                                <div class="col-sm-10">
                                    <input type="text" placeholder="Apellido paterno" class="form-control" id="G_NNA_PAT" name="G_NNA_PAT" onkeyup="return conMayusculas(this)" value="" ng-model="datos.G_NNA_PAT" ng-disabled="opcion99"/>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                        </div>
                        <div id="div_G_NNA_MAT" name="componentes" style="display: block;">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">{{translateTitulos.lbl_018_20}}:</label>
                                <div class="col-sm-10">
                                    <input type="text" placeholder="Apellido materno" class="form-control" id="G_NNA_MAT" name="G_NNA_MAT" onkeyup="return conMayusculas(this)" value="" ng-model="datos.G_NNA_MAT" ng-disabled="opcion99"/>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                        </div>
                    </div>
                    <div ng-show = "PERMISO == 'D'" >
                        <legend>{{translateTitulos.lbl_018_2_5}}:</legend>
                        <div class="form-group"><label class="col-sm-2 control-label">{{translateTitulos.lbl_018_2_6}}:</label>
                            <div class="col-sm-10"><input type="text" ng-disable="false" placeholder="{{datos.TER_NOM_INST}}" name = "TER_NOM_INST" class="form-control" ng-model="datos.TER_NOM_INST" id = "TER_NOM_INST" onkeyup="return conMayusculas(this)" required />
                            </div>
                        </div>
                        <div class="form-group"><label class="col-sm-2 control-label">{{translateTitulos.lbl_018_25}}:</label>
                            <div class="col-sm-10"><input type="text" ng-disable="false" placeholder="{{datos.TER_INST_DIR}}" name = "TER_INST_DIR" class="form-control" ng-model="datos.TER_INST_DIR" id = "TER_INST_DIR" onkeyup="return conMayusculas(this)" required />
                            </div>
                        </div>
                        <div class="form-group"><label class="col-sm-2 control-label">Número teléfono Inst.:</label>
                            <div class="col-sm-10"><input type="text" ng-disable="false" placeholder="{{datos.TER_INST_TELF}}" name = "TER_INST_TELF" class="form-control" ng-model="datos.TER_INST_TELF" id = "TER_INST_TELF" ng-change="validarTelfDelega(datos.TER_INST_TELF)" ng-blur="validarCompleto(datos.TER_INST_TELF,'99','10','99');" required/>
                            </div>
                        </div>
                    </div>


                    <div class="form-group col-md-5" ><label >{{translateTitulos.lbl_018_09}}:</label>
                        <p class="input-group">
                        <input name="TER_FEC_RET" id="TER_FEC_RET" type="date" placeholder="2016-01-01" class="form-control" datepicker-popup="" ng-model="datos.TER_FEC_RET" is-open="startDateOpened1" close-text="Close" ng-disabled="desabilitado"  required min-date="modelFecha.endDate">
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="startDateOpen1($event)" id="BTN_DATE_EXIT" name="BTN_DATE_EXIT"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span></p>
                    </div>

                    <div class="form-group col-md-2"></div>
                    <div class="form-group col-md-5" ><label >{{translateTitulos.lbl_018_10}}:</label>
                    <p class="input-group"><input name="TER_FEC_FIN" id="TER_FEC_FIN" type="date" placeholder="2016-01-01" class="form-control" datepicker-popup="" ng-model="datos.TER_FEC_FIN" is-open="startDateOpened2" close-text="Close" ng-disabled="desabilitado"  required min-date="modelFecha.endDate">
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="startDateOpen2($event)" id="BTN_DATE_RETURN" name="BTN_DATE_RETURN"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span></p>
                    </div>                    

                
                    <div ng-show = "PERMISO == 'D'">
                        <legend>{{translateTitulos.lbl_018_10_1}}:</legend>
                        <div id="div_TER_NNA_DEL" name="componentes">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">{{translateTitulos.lbl_018_10_2}}:</label>
                                <div class="col-sm-10">
                                    <select id="TER_NNA_DEL" class="form-control" name="TER_NNA_DEL" ng-model="datos.TER_NNA_DEL" ng-disabled="desabilitado" ng-change="formViajan(datos.TER_NNA_DEL);" required>
                                        <option style="display:none" value="">--Seleccionar--</option>
                                        <option value="1">NIÑOS NIÑAS</option>
                                        <option value="2">ADOLESCENTES</option>
                                        <option value="3">NIÑOS NIÑAS Y ADOLESCENTES</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>

                        <div id="div_NNA_CANT_MAS" name="div_NNA_CANT_MAS" style="display: block;" ng-show = "TER_NNA_DEL == 1 || TER_NNA_DEL == 3">


                    
                            <div class="form-group col-md-4">
                                <label class="col-sm-3 control-label">{{translateTitulos.lbl_018_10_3}}:</label>
                                <div class="col-sm-9">
                                    <input  type="text" placeholder="cantidad de niños" class="form-control" id="NNA_CANT_MAS" name="NNA_CANT_MAS"  maxlength="2" ng-model="datos.NNA_CANT_MAS" readonly="readonly">
                                </div>
                            </div>

                            
                        </div>
                        <div id="div_NNA_CANT_FEM" name="div_NNA_CANT_FEM" style="display: block;" ng-show = "TER_NNA_DEL == 1 || TER_NNA_DEL == 3">
                            <div class="form-group col-md-4" >
                                <label class="col-sm-3 control-label">{{translateTitulos.lbl_018_10_4}}:</label>
                                <div class="col-sm-9">
                                    <input type="text" placeholder="cantidad de niñas" class="form-control" id="NNA_CANT_FEM" name="NNA_CANT_FEM" maxlength="2" ng-model="datos.NNA_CANT_FEM" readonly="readonly" >
                                </div>
                            </div>

                            
                        </div>
                        <div id="div_NNA_CANT_NN" name="div_NNA_CANT_NN" style="display: block;" ng-show = "TER_NNA_DEL == 1 || TER_NNA_DEL == 3">
                            <div class="form-group col-md-4">
                                <label class="col-sm-3 control-label">{{translateTitulos.lbl_018_10_5}}:</label>
                                <div class="col-sm-9">
                                    <input  placeholder="NRO NIÑOS(AS)" class="form-control" id="NNA_CANT_NN" name="NNA_CANT_NN" value="" ng-model="datos.NNA_CANT_NN" readonly="readonly" type="text" readonly="readonly">
                                </div>
                            </div> 

                        </div>  


                        

                        <div id="div_NNA_CAN_MAS" name="div_NNA_CAN_MAS" style="display: block;" ng-show = "TER_NNA_DEL == 2 || TER_NNA_DEL == 3">
                            <div class="form-group col-md-4">
                                <label class="col-sm-3 control-label">{{translateTitulos.lbl_018_10_6}}:</label>
                                <div class="col-sm-9">
                                    <input type="text" placeholder="ADOLESCENTE MASCULINO" class="form-control" id="NNA_CAN_MAS" name="NNA_CAN_MAS" value="" ng-model="datos.NNA_CAN_MAS" readonly="readonly">
                                </div>
                            </div>
                            
                        </div>
                        <div id="div_NNA_CAN_FEM" name="div_NNA_CAN_FEM" style="display: block;" ng-show = "TER_NNA_DEL == 2 || TER_NNA_DEL == 3">
                            <div class="form-group col-md-4">
                                <label class="col-sm-3 control-label">{{translateTitulos.lbl_018_10_7}}:</label>
                                <div class="col-sm-9">
                                    <input type="text" placeholder="ADOLESCENTE FEMENINO" class="form-control" id="NNA_CAN_FEM" name="NNA_CAN_FEM"value="" ng-model="datos.NNA_CAN_FEM" readonly="readonly">
                                </div>
                            </div>
                            
                        </div>
                        <div id="div_NNA_NRO_ADO" name="div_NNA_NRO_ADO" style="display: block;" ng-show = "TER_NNA_DEL == 2 || TER_NNA_DEL == 3">
                            <div class="form-group col-md-4">
                                <label class="col-sm-3 control-label">{{translateTitulos.lbl_018_10_8}}:</label>
                                <div class="col-sm-9">
                                    <input type="text" placeholder="NRO. DE ADOLESCENTE" class="form-control" id="NNA_NRO_ADO" name="NNA_NRO_ADO" value="" ng-model="datos.NNA_NRO_ADO" readonly="readonly"  >
                                </div>
                            </div>
                            
                        </div>



                        
                        <div id="div_NNA_CANT_TOTAL" name="div_NNA_CANT_TOTAL" style="display: block;" ng-show = "TER_NNA_DEL == 3">
                            <div class="form-group">
                                <label class="col-sm-3 control-label">{{translateTitulos.lbl_018_10_9}}:</label>
                                <div class="col-sm-9">
                                    <input type="text" placeholder="TOTALES" class="form-control" id="NNA_CANT_TOTAL" name="NNA_CANT_TOTAL" value="" ng-model="datos.NNA_CANT_TOTAL" readonly="readonly" >
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                        </div>

                    </div>
                    <div class="form-group"></div>
                    <div class="form-group">
                        <div class="ibox-title cafeSuave" style="border-bottom: solid 0px #E2E2E2 !important;">
                            <h5 style="border-bottom: solid 0px #E2E2E2 !important; width: 100%;">{{translateTitulos.lbl_018_11}}</h5><!--cambios-->
                        <!--a class="btn btn-primary" ng-click="addnna()">Nuevo</a-->
                        </div>
                        <div class="table-responsive" style="width:100%">                    
                            <section id="no-more-tables">
                            <table class="table table-bordered">
                                <thead  class="cf">
                                    <th ng-show="desabilitado==false" id="COL_DAT_CHI" name="COL_DAT_CHI"><a class="btn btn-primary" ng-click="addnna()" ng-disabled="desabilitado" >{{translateTitulos.lbl_018_12}}</a>
                                    </th>        
                                    <th style="background-color: #6f7072 !important;color: white !important;">TIPO DE DOCUMENTO</th> 
                                    <th style="background-color: #6f7072 !important;color: white !important;">NÚMERO DE DOCUMENTO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">EXPEDIDO</th>                              
                                    <th style="background-color: #6f7072 !important;color: white !important;">NOMBRES</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">APELLIDO PATERNO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">APELLIDO MATERNO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">FECHA DE NACIMIENTO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">LUGAR DE NACIMIENTO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">GÉNERO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">CIUDAD DE RESIDENCIA</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">EXTERIOR</th>

                                    <th style="background-color: #6f7072 !important;color: white !important;" ng-show="false">MACRODISTRITOA</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">MACRODISTRITO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;" ng-show="false">ZONA</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">ZONA</th>

                                    <th style="background-color: #6f7072 !important;color: white !important;">DIRECCIÓN</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">TELÉFONO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">CELULAR</th>
                                    
                                    <th style="background-color: #6f7072 !important;color: white !important;">C.I. ANVERSO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">C.I. REVERSO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">FECHA DE CADUCIDAD DEL DOCUMENTO.</th>

                                    <th style="background-color: #6f7072 !important;color: white !important;">CERTIFICADO DE NACIMIENTO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">DNI ANVERSO</th>
                                    <th style="background-color: #6f7072 !important;color: white !important;">DNI REVERSO</th>
                                    
                                </thead>
                                <tbody>
                                    <!--tr ng-repeat="nna in datos.TER_NNA_VIAJAN" ng-include="getTemplate(nna)"-->
                                    <tr ng-repeat="nna in ninosviajan.TER_NNA_VIAJAN" ng-include="getTemplate(nna)">
                                    </tr>
                                </tbody>
                            </table>
                            </section>
                        </div>    
                    </div>  

                    <!--TABLA RESPONSIVE-->
                    <script type="text/ng-template" id="display">
                        <td  data-title="" class="table_resp1" ng-show="desabilitado==false"><a class="btn btn-primary" ng-click="editnna(nna)" ng-disabled="desabilitado">Editar</a>
                        </td >  
                        <td  data-title="Tipo de Doc."  class="table_resp1"><div class="content">{{nna.f01_NNA_TIP_DOC}}</div></td>
                        <td  data-title="Nro Doc."      class="table_resp1"><div class="content">{{nna.f01_NNA_G_CI}}</div></td>
                        <td  data-title="Exp."          class="table_resp1"><div class="content">{{nna.f01_NNA_EXP_CIUD}}</div></td>                                    
                        <td  data-title="Nombres"       class="table_resp1"><div class="content">{{nna.f01_NNA_G_NOM}}</div></td>
                        <td  data-title="Ap. Paterno"   class="table_resp1"><div class="content">{{nna.f01_NNA_G_APAT}}</div></td>
                        <td  data-title="Ap. Materno"   class="table_resp1"><div class="content">{{nna.f01_NNA_G_AMAT}}</div></td>
                        <td  data-title="Fecha Nac."    class="table_resp1"><div class="content">{{nna.f01_NNA_G_FEC_NAC}}</div></td>
                        <td  data-title="Lugar Nac."    class="table_resp1"><div class="content">{{nna.f01_NNA_G_LUG_NAC}}</div></td>
                        <td  data-title="Género"        class="table_resp1"><div class="content">{{nna.f01_NNA_G_GEN}}</div></td>
                        <td  data-title="Ciudad Res."   class="table_resp1"><div class="content">{{nna.f01_NNA_G_CIUD}}</div></td>
                        <td  data-title="Exterior"      class="table_resp1"><div class="content">{{nna.f01_NNA_DEP_OTRO}}</div></td>

                        
                        <td ng-show="false" data-title="Macrodistrito" class="table_resp1"><div class="content">{{nna.f01_NNA_TER_MACRO_valor}}</div></td>
                        <td  data-title="Macrodistrito" class="table_resp1"><div class="content">{{nna.f01_NNA_TER_MACRO}}</div></td>
                        <td ng-show="false" data-title="Zona" class="table_resp1"><div class="content">{{nna.f01_NNA_TER_ZONA_valor}}</div></td>
                        <td  data-title="Zona"          class="table_resp1"><div class="content">{{nna.f01_NNA_TER_ZONA}}</div></td>

                        
                        
                        <td  data-title="Dirección"     class="table_resp1"><div class="content">{{nna.f01_NNA_DIR}}</div></td>
                        <td  data-title="Telf. 1"       class="table_resp1"><div class="content">{{nna.f01_NNA_TER_TEL}}</div></td>
                        <td  data-title="Cel. 2"        class="table_resp1"><div class="content">{{nna.f01_NNA_G_TELF}}</div></td>

                        <td  data-title="CI Anverso"    class="table_resp1"><div ng-show="resp.f01_ADUL_O_ADJ_G_ARCH_CN==0"> </div> <img id="myImgAnverso" width="100px" ng-src="{{nna.f01_NNA_ANVERSO_G_ARCH}}" alt="CI ANVERSO" ng-show="nna.f01_NNA_ANVERSO_G_ARCH!=0"></td>   

                        <td  data-title="CI Reverso"    class="table_resp1"><div ng-show="resp.f01_ADUL_O_ADJ_G_ARCH_CN==0"> </div> <img id="myImgReverso" width="100px" ng-src="{{nna.f01_NNA_REVERSO_G_ARCH}}" alt="CI REVERSO" ng-show="nna.f01_NNA_REVERSO_G_ARCH!=0"></td>

                        <td  data-title="Fecha Caducidad"        class="table_resp1"><div class="content">{{nna.f01_NNA_F_CADUC_CI}}</div></td>  
                                                        
                        <td  data-title="Otro Doc"      class="table_resp1"><div ng-show="resp.f01_ADUL_O_ADJ_G_ARCH_CN==0"> </div> <img id="myImgOtro" width="100px" ng-src="{{nna.f01_NNA_O_ADJ_G_ARCH_CN}}" alt="DOCUMENTO" ng-show="nna.f01_NNA_O_ADJ_G_ARCH_CN!=0"></td> 



                        <td  data-title="DNI Anverso"    class="table_resp1"><div ng-show="resp.f01_ADUL_O_ADJ_G_ARCH_CN==0"> </div> <img id="myImgAnversoDNI" width="100px" ng-src="{{nna.f01_NNA_ANVERSO_G_ARCH_DNI}}" alt=" DNI ANVERSO" ng-show="nna.f01_NNA_ANVERSO_G_ARCH_DNI!=0"></td> <!--  -->

                        <td  data-title="DNI Reverso"    class="table_resp1"><div ng-show="resp.f01_ADUL_O_ADJ_G_ARCH_CN==0"> </div> <img id="myImgReversoDNI" width="100px" ng-src="{{nna.f01_NNA_REVERSO_G_ARCH_DNI}}" alt="DNI REVERSO" ng-show="nna.f01_NNA_REVERSO_G_ARCH_DNI!=0"></td>

                    </script>
                    <!--TABLA RESPONSIVE FIN LECTURA-->





                    <!--TABLA RESPONSIVE INICIO ESCRITURA-->
                    <script type="text/ng-template" id="edit">
                        <td data-title="" ng-show="datosGuardados == false">
                            <a class="btn btn-primary" ng-click="savenna($index, model.selected.f01_NNA_G_FEC_NAC)">{{translateTitulos.lbl_018_13}}</a>
                            <a class="btn btn-primary" ng-click="reset()">{{translateTitulos.lbl_018_14}}</a>
                        </td>   
                        <td data-title="Tipo de Doc." width="0%" ng-show="datosGuardados == false">
                            <select id="f01_NNA_TIP_DOC" name="f01_NNA_TIP_DOC" ng-model="model.selected.f01_NNA_TIP_DOC" ng-show="datosGuardados == false" ng-change="esconderAdjuntos('10')" required>
                                <option style="display:none" value=""> -- Seleccione -- </option>
                                <option value="CI">CEDULA DE IDENTIDAD</option>
                                <option value="CN">CERTIFICADO DE NACIMIENTO</option>
                                <!--<option value="PAS">PASAPORTE</option>-->
                                <option value="DN">DNI</option>
                            </select>
                        </td>
                        <td data-title="Nro Doc." width="0%" ng-show="datosGuardados == false"><!--input id="f01_NNA_G_CI"  type="text" ng-model="model.selected.f01_NNA_G_CI" /-->
                        <input id="f01_NNA_G_CI" ng-blur="consultaRC_CI('NATURAL', model.selected.f01_NNA_G_CI, '101', 1, textCambio,model.selected.f01_NNA_TIP_DOC);" ng-change="cambioTexto()" type="text" ng-model="model.selected.f01_NNA_G_CI" required/>
                        </td>
                        <td data-title="Exp." width="0%" ng-show="datosGuardados == false"><select id="f01_NNA_EXP_CIUD" ng-model="model.selected.f01_NNA_EXP_CIUD" required >
                            <option style="display:none" value=""> -- Seleccione -- </option>
                            <option value="LPZ">LA PAZ</option>
                            <option value="ORU">ORURO</option>
                            <option value="PTS">POTOSI</option>
                            <option value="CBB">COCHABAMBA</option>
                            <option value="CHQ">CHUQUISACA</option>
                            <option value="TJA">TARIJA</option>
                            <option value="BNI">BENI</option>
                            <option value="PND">PANDO</option>
                            <option value="SCZ">SANTA CRUZ</option>
                            </select>
                        </td>        
                        <td data-title="Nombres" width="0%" ng-show="datosGuardados == false"><input id="f01_NNA_G_NOM" type="text" ng-model="model.selected.f01_NNA_G_NOM" onkeyup="return conMayusculas(this)" required /></td>
                        <td data-title="Ap. Paterno" width="0%" ng-show="datosGuardados == false"><input id="f01_NNA_G_APAT" type="text" ng-model="model.selected.f01_NNA_G_APAT" onkeyup="return conMayusculas(this)"/></td>
                        <td data-title="Ap. Materno" width="0%" ng-show="datosGuardados == false"><input id="f01_NNA_G_AMAT" type="text" ng-model="model.selected.f01_NNA_G_AMAT" onkeyup="return conMayusculas(this)"/></td>
                        
                        <td data-title="Fecha Nac." width="0%" ng-show="datosGuardados == false"><!--input id="f01_NNA_G_FEC_NAC" type="text" ng-model="model.selected.f01_NNA_G_FEC_NAC"/-->       
                                <div class="form-group" >
                                    <p class="input-group"><input name="f01_NNA_G_FEC_NAC" id="f01_NNA_G_FEC_NAC" type="date" placeholder="1900-01-01"  class="form-control" datepicker-popup="" ng-model="model.selected.f01_NNA_G_FEC_NAC"  close-text="Close" ng-disabled="desabilitado"  required min-date="modelFecha.startDate" ng-blur="validarFecha(model.selected.f01_NNA_G_FEC_NAC , 17)">
                                        <span class="input-group-btn">
                                            <!--button type="button" class="btn btn-default" ng-click="startDateOpen1($event)"><i class="glyphicon glyphicon-calendar"></i></button-->
                                        </span></p>
                                </div>                  
                        </td>


                        <td data-title="Lugar Nac" width="0%" ng-show="datosGuardados == false" required><select id="f01_NNA_G_LUG_NAC" ng-model="model.selected.f01_NNA_G_LUG_NAC" required >                                            
                            <option style="display:none" value=""> -- Seleccione -- </option>
                            <option value="LPZ">LA PAZ</option>
                            <option value="ORU">ORURO</option>
                            <option value="PTS">POTOSI</option>
                            <option value="CBB">COCHABAMBA</option>
                            <option value="CHQ">CHUQUISACA</option>
                            <option value="TJA">TARIJA</option>
                            <option value="BNI">BENI</option>
                            <option value="PND">PANDO</option>
                            <option value="SCZ">SANTA CRUZ</option>
                            <option value="10">EXTERIOR</option>
                            </select>
                        </td>



                        <td data-title="Género" width="0%" ng-show="datosGuardados == false"><select id="f01_NNA_G_GEN" ng-model="model.selected.f01_NNA_G_GEN" required>
                                <option style="display:none" value=""> -- Seleccione -- </option>
                                <option value="F">FEMENINO</option>
                                <option value="M">MASCULINO</option>
                            </select>
                        </td>
                        <td data-title="Ciudad Res." width="0%" ng-show="datosGuardados == false"><select id="f01_NNA_G_CIUD"  ng-model="model.selected.f01_NNA_G_CIUD" ng-change="esconderAdjuntos('99')" class="ng-pristine ng-valid ng-valid-required" required>
                                <option style="display:none" value=""> -- Seleccione -- </option>
                                <option value="LPZ">LA PAZ</option>
                                <option value="ORU">ORURO</option>
                                <option value="PTS">POTOSI</option>
                                <option value="CBB">COCHABAMBA</option>
                                <option value="CHQ">CHUQUISACA</option>
                                <option value="TJA">TARIJA</option>
                                <option value="BNI">BENI</option>
                                <option value="PND">PANDO</option>
                                <option value="SCZ CRUZ">SANTA CRUZ</option>
                                <option value="10">EXTERIOR</option>
                            </select>
                        </td>

                        <td data-title="Exterior" width="0%" ng-show="datosGuardados == false"> 
                        <div id="tipoArchivo21" name="tipoArchivo21" ng-show="tipoArchivo21 == false">
                        <input id="f01_NNA_DEP_OTRO" type="text" ng-model="model.selected.f01_NNA_DEP_OTRO" value ="." />
                        </div></td>


                        <td data-title="Macrodistrito" width="0%" ng-show="datosGuardados == false">
                        <select id="f01_NNA_TER_MACRO_valor"  ng-model="model.selected.f01_NNA_TER_MACRO_valor" ng-change="cargarZonas(model.selected.f01_NNA_TER_MACRO_valor)"  required>
                                <option style="display:none" value=""> -- Seleccione -- </option>
                            <option value="1">MACRODISTRITO 1 COTAHUMA</option>
                            <option value="2">MACRODISTRITO 2 MAXIMILIANO PAREDES</option>
                            <option value="3">MACRODISTRITO 3 PERIFERICA</option>
                            <option value="4">MACRODISTRITO 4 SAN_ANTONIO</option>
                            <option value="5">MACRODISTRITO 5 SUR</option>
                            <option value="6">MACRODISTRITO 6 MALLASA</option>
                            <option value="7">MACRODISTRITO 7 CENTRO</option>
                            <option value="8">MACRODISTRITO 8 HAMPATURI</option>
                            <option value="9">MACRODISTRITO 9 ZONGO</option>
                            <option value="10">OTRO</option>
                            </select>
                        </td>

                        <td data-title="Macrodistrito" width="0%" ng-show="false">
                    <input id="f01_NNA_TER_MACRO" type="text" ng-model="model.selected.f01_NNA_TER_MACRO" value ="." required/>
                        </td>


                        <td data-title="Zona" width="0%" ng-show="datosGuardados == false">
                        <select id="f01_NNA_TER_ZONA_valor"  ng-model="model.selected.f01_NNA_TER_ZONA_valor"  ng-change="zonaValor(model.selected.f01_NNA_TER_ZONA_valor)" required>
                               <option  ng-repeat = "zona in zonas" value="{{zona.dist_id}}" ng-selected="{{zona.dist_nombre == model.selected.f01_NNA_TER_ZONA_valor}}" >{{zona.dist_nombre}}</option>
                            </select>
                    
                        </td>
                        <td ng-show ="false" data-title="Zona" width="0%" ><input id="f01_NNA_TER_ZONA" type="text" ng-model="model.selected.f01_NNA_TER_ZONA" value ="." required/></td>



                        <td data-title="Dirección" width="0%" ng-show="datosGuardados == false"><input id="f01_NNA_DIR" type="text" ng-model="model.selected.f01_NNA_DIR" value ="."  onkeyup="return conMayusculas(this)" required /></td><!--CAMPO LARGO-->  

                        <td data-title="Telf. 1" width="0%" ng-show="datosGuardados == false"><input id="f01_NNA_TER_TEL" type="text" ng-change="validarTelf(model.selected.f01_NNA_TER_TEL)" ng-model="model.selected.f01_NNA_TER_TEL" ng-blur="validarCompleto(model.selected.f01_NNA_TER_TEL,'99','20','99');" value ="0"  /></td>
                        
                        <td data-title="Cel. 2" width="0%" ng-show="datosGuardados == false"><input id="f01_NNA_G_TELF" type="text" ng-change="validarCell(model.selected.f01_NNA_G_TELF)" ng-model="model.selected.f01_NNA_G_TELF" ng-blur="validarCompleto('99',model.selected.f01_NNA_G_TELF,'5','100');" value ="0"  /></td>
                        
                        <!-- ////////////////// -->           


                        <td data-title="Adjunto" width="0%" ng-show="datosGuardados == false">  
                            <div id="tipoArchivo11" name="tipoArchivo11" ng-show="tipoArchivo1== false" >
                                <input id="f01_NNA_ANVERSO_G_ARCH" type='file' />
                                <img id="myImg" width="100px" ng-src="{{archiFileCIAnverso}}" alt="CI ANVERSO" ng-model="model.selected.f01_NNA_ANVERSO_G_ARCH"  />  
                                <div style='position:fixed;bottom:0;left:0; background:lightgray;width:100%;' >  </div>          
                            </div>
                        </td>   

                        <td data-title="Adjunto" width="0%" ng-show="datosGuardados == false">  
                            <div id="tipoArchivo22" name="tipoArchivo22" ng-show="tipoArchivo2== false" >
                                <input id="f01_NNA_REVERSO_G_ARCH" type='file'  />
                                <img id="myImg2" width="100px" ng-src="{{archiFileCIReverso}}" alt="CI REVERSO" ng-model="model.selected.f01_NNA_REVERSO_G_ARCH" />   
                                <div style='position:fixed;bottom:0;left:0; background:lightgray;width:100%;' >  </div>          
                            </div>
                        </td> 


                        <td data-title="Fecha Caducidad." width="0%" ng-show="datosGuardados == false"><!--input id="f01_NNA_F_CADUC_CI" type="text" ng-model="model.selected.f01_NNA_F_CADUC_CI"/-->       
                                <div class="form-group" id="tipoArchivo22" name="tipoArchivo22" ng-show="tipoArchivo2== false">
                                    <p class="input-group">
                                        <input name="f01_NNA_F_CADUC_CI" id="f01_NNA_F_CADUC_CI" type="date" placeholder="1900-01-01"  class="form-control" datepicker-popup="" ng-model="model.selected.f01_NNA_F_CADUC_CI"  close-text="Close" ng-disabled="desabilitado"  required min-date="modelFecha.startDate" ng-blur="validarFechaMenor(model.selected.f01_NNA_F_CADUC_CI)" >
                                        <span class="input-group-btn">
                                            <!--button type="button" class="btn btn-default" ng-click="startDateOpen1($event)"><i class="glyphicon glyphicon-calendar"></i></button     file_f01_NNA_O_ADJ_G_ARCH_CN_CN-->   
                                        </span></p>
                                </div> 
 
                        </td>


                        <td data-title="Adjunto" width="0%" ng-show="datosGuardados == false">  
                            <div id="tipoArchivo33" name="tipoArchivo33" ng-show="tipoArchivo3== false" >
                                <input id="f01_NNA_O_ADJ_G_ARCH_CN" type='file'  />

                                <img id="myImg2" width="100px" ng-src="{{archiFileOtro}}" alt="CERTIFICADO DE NACIMIENTO" ng-model="model.selected.f01_NNA_O_ADJ_G_ARCH_CN" />  

                                <div style='position:fixed;bottom:0;left:0; background:lightgray;width:100%;' >  </div>          
                            </div>
                        </td>

                        <td data-title="Adjunto" width="0%" > <!--ng-show="datosGuardados == true"-->  
                            <div id="tipoArchivox4" name="tipoArchivox4" ng-show="tipoArchivox4== false" ><!----> 
                                <input id="f01_NNA_ANVERSO_G_ARCH_DNI" type='file' />
                                <img id="myImg" width="100px" ng-src="{{archiFileDNIAnverso}}" alt="DNI ANVERSO" ng-model="model.selected.file_f01_NNA_ANVERSO_G_ARCH_DNI"  />  
                                <div style='position:fixed;bottom:0;left:0; background:lightgray;width:100%;' >  </div>          
                            </div>
                        </td>   

                        <td data-title="Adjunto" width="0%" > <!--ng-show="datosGuardados == true"--> 
                            <div id="tipoArchivox5" name="tipoArchivox5" ng-show="tipoArchivox5== false" ><!----> 
                                <input id="f01_NNA_REVERSO_G_ARCH_DNI" type='file'  />
                                <img id="myImg2" width="100px" ng-src="{{archiFileDNIReverso}}" alt="DNI REVERSO" ng-model="model.selected.file_f01_NNA_REVERSO_G_ARCH_DNI" />   
                                <div style='position:fixed;bottom:0;left:0; background:lightgray;width:100%;' >  </div>          
                            </div>
                        </td>



                    </script>
                    <!--TABLA RESPONSIVE FIN ESCRITURA-->
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label"><font color="#FF0000" size="4px"> * </font> {{translateTitulos.lbl_018_30}}:</label>
                    <div class="col-sm-10">
                        <select id="TER_SOLOS" class="form-control" name="TER_SOLOS" ng-model="datos.TER_SOLOS" ng-change="formSolos(daStos.TER_SOLOS);mensajevs();" ng-disabled="desabilitado"   required>
                            <option style="display:none" value="">--Seleccionar--</option>
                            <option value="1">SI</option>
                            <option value="2">NO</option>
                        </select> 
                    </div>
                    

                </div>
                <div class="col-md-12" ng-show="mostrarMsgActividadTrue">
                    <div class="form-group" >
                    <label class="col-sm-12 control-label no-padding-right" for="url" ></label>
                        <div class="col-sm-12" align="left">
                            <div class="alert alert-danger fade in">
                                <!--<a href="" class="close" data-dismiss="alert">&times;</a>-->
                                <strong>{{translateTitulos.lbl_018_14_1}}</strong> 
                            </div>
                        </div>
                    </div>
                </div><br><br><br><br>
                
                <div class="form-group">
                    <div class="ibox-title cafeSuave" style="border-bottom: solid 0px #E2E2E2 !important;">
                        <h5 style="border-bottom: solid 0px #E2E2E2 !important; width: 100%;">Datos de los Adultos</h5><!--cambios-->
                    </div>
                    <div class="table-responsive" style="width:100%">                    
                        <section id="no-more-tables">
                        <table class="table table-bordered">
                            <thead class="cf">
                                <th ng-show="desabilitado==false" id="COL_DAT_ADULT" name="COL_DAT_ADULT"><a class="btn btn-primary" ng-click="addresp()" ng-disabled="desabilitado" >{{translateTitulos.lbl_018_12}}</a>
                                </th>    
                                <th style="background-color: #6f7072 !important;color: white !important;">TIPO DE DOCUMENTO</th> 
                                <th style="background-color: #6f7072 !important;color: white !important;">NÚMERO DE DOCUMENTO</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">EXPEDIDO</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">PARENTESCO/CONDICIÓN</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">NOMBRES</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">APELLIDO PATERNO</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">APELLIDO MATERNO</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">FECHA DE NACIMIENTO</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">LUGAR DE NACIMIENTO</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">GÉNERO</th>                                  
                                <th style="background-color: #6f7072 !important;color: white !important;">CIUDAD DE RESIDENCIA</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">EXTERIOR</th> 

                                <th style="background-color: #6f7072 !important;color: white !important;" ng-show="false">MACRODISTRITOA</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">MACRODISTRITO</th>
                                 
                                <th style="background-color: #6f7072 !important;color: white !important;" ng-show="false">ZONA</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">ZONA</th> 
                                <th style="background-color: #6f7072 !important;color: white !important;">DIRECCIÓN</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">TELÉFONO</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">CELULAR</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">VIAJA/AUTORIZA</th>                 
                                <th style="background-color: #6f7072 !important;color: white !important;">C.I. ANVERSO</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">C.I. REVERSO</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">FECHA DE CADUCIDAD DEL DOCUMENTO</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">DNI ANVERSO</th>
                                <th style="background-color: #6f7072 !important;color: white !important;">DNI REVERSO</th>

                                
                            </thead>
                            <tbody>
                                <!--tr ng-repeat="resp in datos.TER_RESP" ng-include="getTemplateResp(resp)"-->
                                <tr ng-repeat="resp in ninosviajanA.TER_RESP" ng-include="getTemplateResp(resp)">
                                </tr>
                            </tbody>
                        </table>
                        </section>
                    </div>
                </div>
                <script type="text/ng-template" id="displayR">
                    <td ng-show="desabilitado==false">
                        <a class="btn btn-primary" id="displayR_editar" ng-click="editresp(resp)" ng-disabled="desabilitado">Editar</a>
                    </td>  
                    <td  data-title="Tipo de Doc."  class="table_resp1"><div class="content">{{resp.f01_ADUL_TIP_DOC}}</div></td>
                    <td  data-title="Nro Doc."      class="table_resp1"><div class="content">{{resp.f01_ADUL_G_CI}}</div></td>
                    <td  data-title="Exp."          class="table_resp1"><div class="content">{{resp.f01_ADUL_EXP_CIUD}}</div></td>
                    <td  data-title="Parentesco"    class="table_resp1"><div class="content">{{resp.f01_ADUL_G_PARE_COND}}</div></td><!--parentezco-->
                    <td  data-title="Nombres"       class="table_resp1"><div class="content">{{resp.f01_ADUL_G_NOM}}</div></td>
                    <td  data-title="Ap. Paterno"   class="table_resp1"><div class="content">{{resp.f01_ADUL_G_APAT}}</div></td>
                    <td  data-title="Ap. Materno"   class="table_resp1"><div class="content">{{resp.f01_ADUL_G_AMAT}}</div></td>
                    <td  data-title="Fecha Nac."    class="table_resp1"><div class="content">{{resp.f01_ADUL_G_FEC_NAC}}</div></td>
                    <td  data-title="Lugar Nac."    class="table_resp1"><div class="content">{{resp.f01_ADUL_G_LUG_NAC}}</div></td>
                    <td  data-title="Género"        class="table_resp1"><div class="content">{{resp.f01_ADUL_G_GEN}}</div></td>                                     
                    <td  data-title="Ciudad Res."   class="table_resp1"><div class="content">{{resp.f01_ADUL_TER_CIUD}}</div></td>
                    <td  data-title="Exterior"      class="table_resp1"><div class="content">{{resp.f01_ADUL_DEPA_OTRO}}</div></td>
                    
                    <td ng-show="false" data-title="Macrodistrito" class="table_resp1"><div class="content">{{resp.f01_ADUL_TER_MACRO_valor}}</div></td>
                    <td data-title="Macrodistrito" class="table_resp1"><div class="content">{{resp.f01_ADUL_TER_MACRO}}</div></td>
                    <td ng-show="false" data-title="Zona"  class="table_resp1"><div class="content">{{resp.f01_ADUL_TER_ZONA_valor}}</div></td>
                     <td  data-title="Zona"   class="table_resp1"><div class="content">{{resp.f01_ADUL_TER_ZONA}}</div></td>

                    <td  data-title="Dirección"     class="table_resp1"><div class="content">{{resp.f01_ADUL_DIR}}</div></td>
                    <td  data-title="Telf. 1"       class="table_resp1"><div class="content">{{resp.f01_ADUL_TER_TEL}}</div></td>
                    <td  data-title="Cel. 2"        class="table_resp1"><div class="content">{{resp.f01_ADUL_G_TELF}}</div></td>
                    <td  data-title="Viaja/Autoriza" class="table_resp1"><div class="content">{{resp.f01_ADUL_G_VA}}</div></td>
                                            
                        <!--<td  data-title="CI Anverso"    class="table_resp1">
                            <img id="myImgAnverso" width="100px" ng-src="http://192.168.5.141/rest/files/IF/genericas/no_disponible.jpg?app_name=todoangular" alt="CI ANVERSO" ng-show="resp.f01_ADUL_ANVERSO_G_ARCH==0"> <img id="myImgAnverso" width="100px" ng-src="{{resp.f01_ADUL_ANVERSO_G_ARCH}}" alt="CI ANVERSO" ng-show="resp.f01_ADUL_ANVERSO_G_ARCH!=0">
                        </td> -->

                    <td data-title="CI Anverso" class="table_resp1"><div ng-show="tipoArchivo11== false" ></div> 
                    <img id="myImgAnverso" width="100px" ng-src="{{resp.f01_ADUL_ANVERSO_G_ARCH}}" alt="CI ANVERSO" ng-show="resp.f01_ADUL_ANVERSO_G_ARCH!=0"></td><!--   -->


                        <!--<td  data-title="CI Reverso"    class="table_resp1">
                            <img id="myImgReverso" width="100px" ng-src="http://192.168.5.141/rest/files/IF/genericas/no_disponible.jpg?app_name=todoangular" alt="CI REVERSO" ng-show="resp.f01_ADUL_REVERSO_G_ARCH==0"> <img id="myImgReverso" width="100px" ng-src="{{resp.f01_ADUL_REVERSO_G_ARCH}}" alt="CI REVERSO" ng-show="resp.f01_ADUL_REVERSO_G_ARCH!=0">
                        </td> -->

                    <td data-title="CI Reverso"    class="table_resp1"><div ng-show="tipoArchivo12== false"></div>
                    <img id="myImgReverso" width="100px" ng-src="{{resp.f01_ADUL_REVERSO_G_ARCH}}" alt="CI REVERSO" ng-show="resp.f01_ADUL_REVERSO_G_ARCH!=0"></td> <!--   -->

                    <td  data-title="Fecha Caducidad"    class="table_resp1"><div class="content" >{{resp.f01_ADUL_F_CADUC_CI}}</div></td>
                        <!--<td  data-title="Otro Doc"      class="table_resp1">
                            <img id="myImgOtro" width="100px" ng-src="http://192.168.5.141/rest/files/IF/genericas/no_disponible.jpg?app_name=todoangular" alt="DOCUMENTO" ng-show="resp.f01_ADUL_O_ADJ_G_ARCH_CN==0"> <img id="myImgOtro" width="100px" ng-src="{{resp.f01_ADUL_O_ADJ_G_ARCH_CN}}" alt="DOCUMENTO" ng-show="resp.f01_ADUL_O_ADJ_G_ARCH_CN!=0">
                        </td> -->

                    <!-- <td  data-title="Otro Doc"      class="table_resp1"><div ng-show="tipoArchivo13== false" ></div> AQUI ES LO ULTIMO BORRDO
                    <img id="myImgOtro" width="100px" ng-src="{{resp.f01_ADUL_O_ADJ_G_ARCH_CN}}" alt="DOCUMENTO" ng-show="false"></td>resp.f01_ADUL_O_ADJ_G_ARCH_CN!=0 -->

                    <td  data-title="DNI Anverso" class="table_resp1"><div ng-show="resp.f01_ADUL_ANVERSO_G_ARCH_DNI==0"> </div> <img id="myImgAnversoDNIA" width="100px" ng-src="{{resp.f01_ADUL_ANVERSO_G_ARCH_DNI}}" alt=" DNI ANVERSO" ng-show="resp.f01_ADUL_ANVERSO_G_ARCH_DNI!=0"></td> <!--  -->

                    <td  data-title="DNI Reverso" class="table_resp1"><div ng-show="resp.f01_ADUL_REVERSO_G_ARCH_DNI==0"> </div> <img id="myImgReversoDNIA" width="100px" ng-src="{{resp.f01_ADUL_REVERSO_G_ARCH_DNI}}" alt="DNI REVERSO" ng-show="resp.f01_ADUL_REVERSO_G_ARCH_DNI!=0"></td>

                </script>
                
                <script type="text/ng-template" id="editR">
                    <td data-title="" ng-show="datosGuardados == false">
                        <a class="btn btn-primary" id="displayR_grabar" ng-click="saveresp($index)">{{translateTitulos.lbl_018_13}}</a>
                        <a class="btn btn-primary" id="displayR_editar" ng-click="resetresp()">{{translateTitulos.lbl_018_14}}</a>
                    </td>   
                    <td data-title="Tipo de Doc." width="0%" ng-show="datosGuardados == false">
                        <select id="f01_ADUL_TIP_DOC" name="f01_ADUL_TIP_DOC" ng-model="modelResp.selectedR.f01_ADUL_TIP_DOC" ng-show="datosGuardados == false" ng-change="esconderAdjuntosA('10')" required>
                            <option style="display:none" value=""> -- Seleccione -- </option>
                            <option value="CI">CEDULA DE IDENTIDAD</option>
                            <!--<option value="CN">CERTIFICADO DE NACIMIENTO</option>-->
                            <!--<option value="PAS">PASAPORTE</option>-->
                            <option value="DN">DNI</option>  
                        </select>
                    </td>
                    <td data-title="Nro de Doc." width="0%" ng-show="datosGuardados == false">
                        <!--input     id="f01_NNA_G_CI"  type="text" ng-model="model.selected.f01_NNA_G_CI" /-->
                        <input id="f01_ADUL_G_CI" ng-blur="consultaRC_CI('NATURAL', modelResp.selectedR.f01_ADUL_G_CI, '100', 1, textCambio,modelResp.selectedR.f01_ADUL_TIP_DOC);" ng-change="cambioTexto()" type="text" ng-model="modelResp.selectedR.f01_ADUL_G_CI" required />{{resp.f01_ADUL_G_CI}}
                    </td>
                    <td data-title="Exp." width="0%" ng-show="datosGuardados == false">
                        <select id="f01_ADUL_EXP_CIUD" ng-model="modelResp.selectedR.f01_ADUL_EXP_CIUD" required>
                            <option style="display:none" value=""> -- Seleccione -- </option>
                            <option value="LPZ">LA PAZ</option>
                            <option value="ORU">ORURO</option>
                            <option value="PTS">POTOSI</option>
                            <option value="CBB">COCHABAMBA</option>
                            <option value="CHQ">CHUQUISACA</option>
                            <option value="TJA">TARIJA</option>
                            <option value="BNI">BENI</option>
                            <option value="PND">PANDO</option>
                            <option value="SCZ">SANTA CRUZ</option>
                        </select>
                    </td>
                    <td data-title="Parentesco." width="0%" ng-show="datosGuardados == false">
                        <select id="f01_ADUL_G_PARE_COND" ng-model="modelResp.selectedR.f01_ADUL_G_PARE_COND" required >
                            <option style="display:none" value=""> -- Seleccione -- </option>
                            <option value="PADRE">PADRE</option>
                            <option value="MADRE">MADRE</option>
                            <option value="HERMANO(A)">HERMANO(A)</option>
                            <option value="ABUELO(A)">ABUELO(A)</option>
                            <option value="TIO(A)">TIO(A)</option>
                            <option value="CUÑADO(A)">CUÑADO(A)</option>
                            <option value="PRIMO(A)">PRIMO(A)</option>
                            <option value="SOBRINO(A)">SOBRINO(A)</option>
                            <option value="TUTOR(A)/APODERADO(A)/REP. LEGAL">TUTOR(A)/APODERADO(A)/REP. LEGAL</option>
                            <option value="GARANTE">GARANTE</option>
                        </select>
                    </td>
                    <td data-title="Nombre" width="0%" ng-show="datosGuardados == false"><input id="f01_ADUL_G_NOM" type="text" ng-model="modelResp.selectedR.f01_ADUL_G_NOM" onkeyup="return conMayusculas(this)" required /></td>
                    <td data-title="Paterno" width="0%" ng-show="datosGuardados == false"><input id="f01_ADUL_G_APAT" type="text" ng-model="modelResp.selectedR.f01_ADUL_G_APAT" onkeyup="return conMayusculas(this)"/></td>
                    <td data-title="Materno" width="0%" ng-show="datosGuardados == false"><input id="f01_ADUL_G_AMAT" type="text" ng-model="modelResp.selectedR.f01_ADUL_G_AMAT" onkeyup="return conMayusculas(this)"/></td>
                    <td data-title="Fec. Nac." width="0%" ng-show="datosGuardados == false"><!--input id="f01_ADUL_G_FEC_NAC" type="text" ng-model="modelResp.selectedR.f01_ADUL_G_FEC_NAC"/-->     
                            <div class="form-group" >
                                <p class="input-group"><input name="f01_ADUL_G_FEC_NAC" id="f01_ADUL_G_FEC_NAC" type="date" placeholder="2016-01-01"  class="form-control" datepicker-popup="" ng-model="modelResp.selectedR.f01_ADUL_G_FEC_NAC"  close-text="Close" ng-disabled="desabilitado"  required min-date="modelFecha.startDate" ng-blur="validarFecha(modelResp.selectedR.f01_ADUL_G_FEC_NAC , 18)">
                                    <span class="input-group-btn">
                                        <!--button type="button" class="btn btn-default" ng-click="startDateOpen1($event)"><i class="glyphicon glyphicon-calendar"></i></button-->
                                    </span></p>
                            </div>                  
                    </td>

                    <td data-title="Lugar Nac" width="0%" ng-show="datosGuardados == false" required>
                        <select id="f01_ADUL_G_LUG_NAC" ng-model="modelResp.selectedR.f01_ADUL_G_LUG_NAC" required >
                            <option style="display:none" value=""> -- Seleccione -- </option>
                            <option value="LPZ">LA PAZ</option>
                            <option value="ORU">ORURO</option>
                            <option value="PTS">POTOSI</option>
                            <option value="CBB">COCHABAMBA</option>
                            <option value="CHQ">CHUQUISACA</option>
                            <option value="TJA">TARIJA</option>
                            <option value="BNI">BENI</option>
                            <option value="PND">PANDO</option>
                            <option value="SCZ">SANTA CRUZ</option>
                            <option value="10">EXTERIOR</option>
                        </select>
                    </td>

                    <td data-title="Genero" width="0%" ng-show="datosGuardados == false"><select id="f01_ADUL_G_GEN" ng-model="modelResp.selectedR.f01_ADUL_G_GEN" required>
                            <option style="display:none" value=""> -- Seleccione -- </option>
                            <option value="F">FEMENINO</option>
                            <option value="M">MASCULINO</option>
                        </select>
                    </td>


                    <td data-title="Ciudad Res." width="0%" ng-show="datosGuardados == false"><select id="f01_ADUL_TER_CIUD"  ng-model="modelResp.selectedR.f01_ADUL_TER_CIUD" ng-change="esconderAdjuntosA('99')" class="ng-pristine ng-valid ng-valid-required" required>
                            <option style="display:none" value=""> -- Seleccione -- </option>
                            <option value="LPZ">LA PAZ</option>
                            <option value="ORU">ORURO</option>
                            <option value="PTS">POTOSI</option>
                            <option value="CBB">COCHABAMBA</option>
                            <option value="CHQ">CHUQUISACA</option>
                            <option value="TJA">TARIJA</option>
                            <option value="BNI">BENI</option>
                            <option value="PND">PANDO</option>
                            <option value="SCZ">SANTA CRUZ</option>
                            <option value="10">EXTERIOR</option>
                        </select>
                    </td>
                    <!--<td data-title="Otro" width="0%" ng-show="datosGuardados == false">
                     ///   <input id="f01_ADUL_DEPA_OTRO" type="text" ng-model="modelResp.selectedR.f01_ADUL_DEPA_OTRO" /></td>-->
                    <td data-title="Otro" width="0%" ng-show="datosGuardados == false"> 
                        <div id="tipoArchivo33" name="tipoArchivo33" ng-show="tipoArchivo31 == false">
                        <input id="f01_ADUL_DEPA_OTRO" type="text" ng-model="modelResp.selectedR.f01_ADUL_DEPA_OTRO" value ="." />
                        </div>
                    </td>

                    <td data-title="Macrodistrito" width="0%" ng-show="datosGuardados == false">
                        <select id="f01_ADUL_TER_MACRO_valor"  ng-model="modelResp.selectedR.f01_ADUL_TER_MACRO_valor" ng-change="cargarZonasA(modelResp.selectedR.f01_ADUL_TER_MACRO_valor)" required>
                                <option style="display:none" value=""> -- Seleccione -- </option>
                                <option value="1">MACRODISTRITO COTAHUMA </option>
                                <option value="2">MACRODISTRITO MAXILIANO PAREDES</option>
                                <option value="3">MACRODISTRITO PERIFÉRICA</option>
                                <option value="4">MACRODISTRITO SAN ANTONIO</option>
                                <option value="5">MACRODISTRITO SUR</option>
                                <option value="6">MACRODISTRITO MALLASA</option>
                                <option value="7">MACRODISTRITO CENTRO</option>
                                <option value="8">MACRODISTRITO HAMPATURI</option>
                                <option value="9">MACRODISTRITO ZONGO</option>
                                <option value="10">OTRO</option>
                            </select>
                    
                    </td>
                    <td data-title="Macrodistrito" width="0%" ng-show="false">
                        <input id="f01_ADUL_TER_MACRO" type="text" ng-model="modelResp.selectedR.f01_ADUL_TER_MACRO" value ="." required/>
                    </td>

                     <td data-title="Zona" width="0%" ng-show="datosGuardados == false">
                        <select id="f01_ADUL_TER_ZONA_valor"  ng-model="modelResp.selectedR.f01_ADUL_TER_ZONA_valor"  ng-change="zonaValorA(modelResp.selectedR.f01_ADUL_TER_ZONA_valor)" required>
                           <option  ng-repeat = "zona in zonas" value="{{zona.dist_id}}" ng-selected="{{zona.dist_nombre == modelResp.selectedR.f01_ADUL_TER_ZONA_valor}}" >{{zona.dist_nombre}}</option>
                        </select>
                    </td>

                    <td ng-show ="false" data-title="Zona" width="0%" ><input id="f01_ADUL_TER_ZONA" type="text" ng-model="modelResp.selectedR.f01_ADUL_TER_ZONA" value ="." required/></td>

                    <td data-title="Direccion" width="0%" ng-show="datosGuardados == false"><input id="f01_ADUL_DIR" type="text" ng-model="modelResp.selectedR.f01_ADUL_DIR" onkeyup="return conMayusculas(this)" required/></td> 

                    <td data-title="Celular" width="0%" ng-show="datosGuardados == false"><input id="f01_ADUL_TER_TEL" type="text" ng-change="validarTelfA(modelResp.selectedR.f01_ADUL_TER_TEL)" ng-model="modelResp.selectedR.f01_ADUL_TER_TEL" ng-blur="validarCompleto(modelResp.selectedR.f01_ADUL_TER_TEL,'99','30','99');" value ="0"/></td>  


                    <td data-title="Telefono fijo" width="0%" ng-show="datosGuardados == false"><input id="f01_ADUL_G_TELF" type="text" ng-change="validarCellA(modelResp.selectedR.f01_ADUL_G_TELF)" ng-model="modelResp.selectedR.f01_ADUL_G_TELF" ng-blur="validarCompleto('99',modelResp.selectedR.f01_ADUL_G_TELF,'15','100');" value ="0"  /></td> 
                                                                            

                    <td data-title="Viaja/Autoriza" width="0%" ng-show="datosGuardados == false"><select id="f01_ADUL_G_VA" ng-model="modelResp.selectedR.f01_ADUL_G_VA" required>
                           <option style="display:none" value=""> -- Seleccione -- </option>
                            <option value="VIAJA">VIAJA</option>
                            <option value="AUTORIZA">AUTORIZA</option>
                            <option value="GARANTIZA">GARANTIZA</option>
                        </select>
                    </td>
                        <td data-title="Anverso" width="0%" ng-show="datosGuardados == false">  
                            <div id="tipoArchivo12" name="tipoArchivo12" ng-show="tipoArchivo11== false" ><!---->
                                <input id="f01_ADUL_ANVERSO_G_ARCH" type='file' />
                                <img id="myImg3" width="100px" ng-src="{{archiFileCIAnversoA}}" alt="CI ANVERSO" ng-model="modelResp.selectedR.f01_ADUL_ANVERSO_G_ARCH" />   
                                <div style='position:fixed;bottom:0;left:0; background:lightgray;width:100%;'>  </div>          
                            </div>
                        </td>   

                        <td data-title="Reverso" width="0%" ng-show="datosGuardados == false">  
                            <div id="tipoArchivo13" name="tipoArchivo13" ng-show="tipoArchivo12== false" ><!---->  
                                <input id="f01_ADUL_REVERSO_G_ARCH" type='file'  />
                                <img id="myImg4" width="100px" ng-src="{{archiFileCIReversoA}}" alt="CI REVERSO" ng-model="modelResp.selectedR.f01_ADUL_REVERSO_G_ARCH" />   
                                <div style='position:fixed;bottom:0;left:0; background:lightgray;width:100%;'>  </div>          
                            </div>
                        </td> 


                        <td data-title="Fecha Caducidad." width="0%" ng-show="datosGuardados == false"><!--input id="f01_ADUL_F_CADUC_CI" type="text" ng-model="model.selected.f01_ADUL_F_CADUC_CI"/-->       
                            <div class="form-group" name="tipoArchivo13" ng-show="tipoArchivo12== false">
                                <p class="input-group"><input name="f01_ADUL_F_CADUC_CI" id="f01_ADUL_F_CADUC_CI" type="date" placeholder="1900-01-01"  class="form-control" datepicker-popup="" ng-model="modelResp.selectedR.f01_ADUL_F_CADUC_CI"  close-text="Close" ng-disabled="desabilitado"  required min-date="modelFecha.startDate" ng-blur="validarFechaMenor(modelResp.selectedR.f01_ADUL_F_CADUC_CI)">
                                    <span class="input-group-btn">
                                        <!--button type="button" class="btn btn-default" ng-click="startDateOpen1($event)"><i class="glyphicon glyphicon-calendar"></i></button-->
                                    </span></p>
                            </div>                  
                        </td>
                        <!--<td data-title="Otro Adjunto" width="0%" ng-show="datosGuardados == false">  
                            <div id="tipoArchivo15" name="tipoArchivo15" ng-show="false" >
                            <div id="tipoArchivo15" name="tipoArchivo15" ng-show="tipoArchivo13== false" > 
                                <input id="f01_ADUL_O_ADJ_G_ARCH_CN" type='file'  />
                                <img id="myImg5" width="100px" ng-src="{{archiFileOtroA}}" alt="CERTIFICADO DE NACIMIENTO" ng-model="modelResp.selectedR.f01_ADUL_O_ADJ_G_ARCH_CN" />   
                                <div style='position:fixed;bottom:0;left:0; background:lightgray;width:100%;'>  </div>          
                            </div>
                        </td> -->


                        <td data-title="Anverso" width="0%" ng-show="datosGuardados == false">  
                            <div id="tipoArchivoAx1" name="tipoArchivoAx1" ng-show="tipoArchivoAx1== false" ><!---->
                                <input id="f01_ADUL_ANVERSO_G_ARCH_DNI" type='file' />
                                <img id="myImg3" width="100px" ng-src="{{archiFileDNIAnversoA}}" alt="DNI ANVERSO" ng-model="modelResp.selectedR.f01_ADUL_ANVERSO_G_ARCH_DNI" />   
                                <div style='position:fixed;bottom:0;left:0; background:lightgray;width:100%;'>  </div>          
                            </div>
                        </td>   

                        <td data-title="Reverso" width="0%" ng-show="datosGuardados == false">  
                            <div id="tipoArchivoAx2" name="tipoArchivoAx2" ng-show="tipoArchivoAx2== false" ><!---->   
                                <input id="f01_ADUL_REVERSO_G_ARCH_DNI" type='file'  />
                                <img id="myImg4" width="100px" ng-src="{{archiFileDNIAReversoA}}" alt="DNI REVERSO" ng-model="modelResp.selectedR.f01_ADUL_REVERSO_G_ARCH_DNI" />   
                                <div style='position:fixed;bottom:0;left:0; background:lightgray;width:100%;'>  </div>          
                            </div>
                        </td> 

                </script>                   
            
                    <div class="col-md-12">
                        <h5>{{translateTitulos.lbl_018_52}}</h5>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label"><font color="#FF0000" size="4px"> * </font>{{translateTitulos.lbl_018_53}}:</label>

                        <div class="col-sm-10">
                            <select id="TER_DEST" class="form-control" ng-model="datos.TER_DEST" name="TER_DEST" ng-change="getProvinciasDepto(datos.TER_DEST);" ng-disabled="desabilitado" required>
                                <option style="display:none" value=""> -- Seleccione -- </option>
                                <option value="BNI">Beni</option>
                                <option value="CBB">Cochabamba</option>
                                <option value="LPZ">La Paz</option>
                                <option value="ORU">Oruro</option>
                                <option value="PND">Pando</option>
                                <option value="PTS">Potosi</option>
                                <option value="SCZ">Santa Cruz</option>
                                <option value="CHQ">Chuquisaca</option>
                                <option value="TJA">Tarija</option>
                                <option value="10">Exterior</option>
                            </select>
                        </div>
                        
                    </div>

                    <div class="form-group" ng-show = "datos.TER_DEST != '10-Exterior'">
                    <label class="col-sm-2 control-label">{{translateTitulos.lbl_018_54}}:</label>
                        <div class="col-sm-10">         
                            <select id="TER_MIN" class="form-control" ng-model="datos.TER_MIN" name="TER_MIN" ng-change="getSeleccionaMunicipios(datos.TER_MIN);" ng-disabled="desabilitado" required>
                                <option ng-repeat = "datos in obtDatos" value="{{datos.prv_codigo_compuesto}}-{{datos.prv_provincia}}">{{datos.prv_provincia}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                    <label class="col-sm-2 control-label"><font color="#FF0000" size="4px"> * </font>{{translateTitulos.lbl_018_55}}:</label>
                        <div class="col-sm-10">
                            <select id="TER_MOT" class="form-control" ng-model="datos.TER_MOT" name="TER_MOT" ng-disabled="desabilitado" required>
                                <option style="display:none" value=""> -- Seleccione -- </option>
                                
                                <option value="FAMILIAR" >FAMILIAR</option>
                                <option value="VACACIONES" >VACACIONES</option>
                                <option value="SALUD" >SALUD</option>
                                <option value="TRAMITES" >TRAMITES</option>
                                <option value="RETORNO" >RETORNO</option>
                                <option value="TRABAJO" >TRABAJO</option>
                                <option value="DEPORTIVO" >DEPORTIVO</option>
                                <option value="CULTURAL" >CULTURAL</option>
                                <option value="PASEO" >PASEO</option>
                                <option value="OTRO" >OTRO</option>
                                
          
                            </select>
                        </div>
                    </div>
                        
                    <div id="div_TER_OTRO_MOTIVO"  name="componentes" style="display: block;" ng-show = "TER_MOT == 'OTRO'">
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Descripcion Otro:</label>
                            <div class="col-sm-10">
                                <input type="text" placeholder="Descripcion Otro" class="form-control" id="TER_OTRO_MOT" name="TER_OTRO_MOT" onkeyup="return conMayusculas(this)" value="" ng-model="datos.TER_OTRO_MOT" />
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                    </div>   
                    <div id="div_TER_ESP_RESP" name="div_TER_ESP_RESP" >
                        <div class="form-group">
                            <!-- label class="col-sm-2 control-label">Otros Documentos Adjuntos:</label-->
                            <div class="col-sm-10">
                                <!-- input type="text" placeholder="Otros Documentos Adjuntos" class="form-control" id="TER_ESP_RESP" name="TER_ESP_RESP" onkeyup="return conMayusculas(this)" value="" ng-model="datos.TER_ESP_RESP"/-->
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                    </div>
                    <div id="div_TER_OBS" name="componentes">
                        <div class="form-group">
                            <!-- label class="col-sm-2 control-label">Observaciones:</label-->
                            <div class="col-sm-10">
                                <!-- input type="text" placeholder="Observaciones" class="form-control" id="TER_OBS" name="TER_OBS" onkeyup="return conMayusculas(this)" value="" ng-model="datos.TER_OBS"/-->
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                    </div> 
                    <!-- GNERADOR DE CAPCHA -->
                        <!-- ********************* -->
                    <BR>
                    <BR>
                 <!-- ********************* -->  
                    <div class="col-md-12" align="right" ng-show = "btnViajes != null">
                        <!--<button id="miFormulario"  ng-click="serializarInformacion(datos)" data-dismiss="modal" type="button" class="btn btn-success  fa fa-save" ng-disabled="signupForm.INT_ACTIVIDAD.$invalid || signupForm.TIPO.$invalid || signupForm.INT_TIPO_CONTRIBUYENTE.$invalid || signupForm.INT_DENOMINACION.$invalid || signupForm.INT_AC_SUPERFICIE.$invalid || signupForm.INT_AC_CAPACIDAD.$invalid || signupForm.INT_AC_HR_INICIO.$invalid || signupForm.INT_AC_HR_FINAL.$invalid || signupForm.INT_AC_ESTADO.$invalid || signupForm.INT_AC_MACRO.$invalid || signupForm.INT_AC_ZONA.$invalid || signupForm.INT_AC_TIP_VIA.$invalid || signupForm.INT_AC_NOMBRE_VIA.$invalid" name="formEnviar">  Guardar formulario</button>-->
                        <!--<button id="miFormGuardar"  type="button" class="btn btn-success1 fa fab fa-save fa-lg shake-little" name="formEnviar" ng-click="VerificarCapchaaViajes(datos);" ng-disabled="signupForm.TER_TIP_PERMISO.$invalid ||signupForm.TER_FEC_RET.$invalid ||signupForm.TER_FEC_FIN.$invalid ||signupForm.TER_SOLOS.$invalid ||signupForm.TER_DEST.$invalid ||signupForm.TER_MOT.$invalid" tooltip="Guardar Formulario"></button>-->


                        <button 
                            id="miFormGuardar"  
                            type="button" 
                            class="btn btn-success1 fa fab fa-save fa-lg shake-little" 
                            name="formEnviar" 
                            ng-click="VerificarCapchaaViajes(datos);" 
                            ng-disabled="signupForm.TER_TIP_PERMISO.$invalid ||signupForm.TER_FEC_RET.$invalid ||signupForm.TER_FEC_FIN.$invalid ||signupForm.TER_SOLOS.$invalid ||signupForm.TER_DEST.$invalid ||signupForm.TER_MOT.$invalid" 
                            tooltip="Guardar Formulario"></button>

                        <!--cambios-->
                          <!-- <button id="miFormGuardar"  type="button" class="btn btn-primary fa fa-save" name="formEnviar" ng-click="serializarInfViajes(datos);habilitarEnvioTramite();" ng-disabled="btnGuardarForm">  Guardar Formularioffff</button> -->
                        <button id="miFormulario" name = "miFormulario" 
                        ng-click="enviarFormPermisoViajes(datos);" type="button" class="btn btn-success1 fa fab fa-mail-forward fa-lg shake-little" ng-disabled="btnEnviarFormPermisos==false || (signupForm.TER_TIP_PERMISO.$invalid ||signupForm.TER_FEC_RET.$invalid ||signupForm.TER_FEC_FIN.$invalid ||signupForm.TER_SOLOS.$invalid ||signupForm.TER_DEST.$invalid ||signupForm.TER_MOT.$invalid)" href="#registro_ciudadano|servicios|index2.html" tooltip="Enviar Formulario"> <!--{{translateTitulos.lbl_018_57}}--></button>  <!--cambios-->                
                    </div>
            </form>
        </div>  
    </div>
</div><!-- 20180702 -->